!function(factory){"use strict";"function"==typeof define&&define.amd?define(["jquery"],factory):jQuery&&!jQuery.fn.hoverIntent&&factory(jQuery)}(function($){"use strict";var cX,cY,_cfg={interval:100,sensitivity:6,timeout:0},INSTANCE_COUNT=0,track=function(ev){cX=ev.pageX,cY=ev.pageY},compare=function(ev,$el,s,cfg){return Math.sqrt((s.pX-cX)*(s.pX-cX)+(s.pY-cY)*(s.pY-cY))<cfg.sensitivity?($el.off(s.event,track),delete s.timeoutId,s.isActive=!0,ev.pageX=cX,ev.pageY=cY,delete s.pX,delete s.pY,cfg.over.apply($el[0],[ev])):(s.pX=cX,s.pY=cY,s.timeoutId=setTimeout(function(){compare(ev,$el,s,cfg)},cfg.interval),void 0)},delay=function(ev,$el,s,out){return delete $el.data("hoverIntent")[s.id],out.apply($el[0],[ev])};$.fn.hoverIntent=function(handlerIn,handlerOut,selector){var instanceId=INSTANCE_COUNT++,cfg=$.extend({},_cfg);$.isPlainObject(handlerIn)?(cfg=$.extend(cfg,handlerIn),$.isFunction(cfg.out)||(cfg.out=cfg.over)):cfg=$.isFunction(handlerOut)?$.extend(cfg,{over:handlerIn,out:handlerOut,selector:selector}):$.extend(cfg,{over:handlerIn,out:handlerIn,selector:handlerOut});var handleHover=function(e){var ev=$.extend({},e),$el=$(this),hoverIntentData=$el.data("hoverIntent");hoverIntentData||$el.data("hoverIntent",hoverIntentData={});var state=hoverIntentData[instanceId];state||(hoverIntentData[instanceId]=state={id:instanceId}),state.timeoutId&&(state.timeoutId=clearTimeout(state.timeoutId));var mousemove=state.event="mousemove.hoverIntent.hoverIntent"+instanceId;if("mouseenter"===e.type){if(state.isActive)return;state.pX=ev.pageX,state.pY=ev.pageY,$el.off(mousemove,track).on(mousemove,track),state.timeoutId=setTimeout(function(){compare(ev,$el,state,cfg)},cfg.interval)}else{if(!state.isActive)return;$el.off(mousemove,track),state.timeoutId=setTimeout(function(){delay(ev,$el,state,cfg.out)},cfg.timeout)}};return this.on({"mouseenter.hoverIntent":handleHover,"mouseleave.hoverIntent":handleHover},cfg.selector)}}),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof exports?module.exports=factory(require("jquery")):factory(jQuery)}(function(jQuery){"use strict";function getScriptPath(){var scripts=document.getElementsByTagName("script"),path=scripts.length?scripts[scripts.length-1].src.split("?")[0]:"";return path.split("/").length>0?path.split("/").slice(0,-1).join("/")+"/":""}function mplex(el,lst,fn){for(var a=0;a<lst.length;a++)fn(el,lst[a])}var domfocus=!1,mousefocus=!1,tabindexcounter=0,ascrailcounter=2e3,globalmaxzindex=0,$=jQuery,vendors=["webkit","ms","moz","o"],setAnimationFrame=window.requestAnimationFrame||!1,clearAnimationFrame=window.cancelAnimationFrame||!1;if(!setAnimationFrame)for(var vx in vendors){var v=vendors[vx];if(setAnimationFrame=window[v+"RequestAnimationFrame"]){clearAnimationFrame=window[v+"CancelAnimationFrame"]||window[v+"CancelRequestAnimationFrame"];break}}var ClsMutationObserver=window.MutationObserver||window.WebKitMutationObserver||!1,_globaloptions={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:getScriptPath(),preventmultitouchscrolling:!0,disablemutationobserver:!1},browserdetected=!1,getBrowserDetection=function(){function detectCursorGrab(){var lst=["grab","-webkit-grab","-moz-grab"];(d.ischrome&&!d.ischrome38||d.isie)&&(lst=[]);for(var a=0;a<lst.length;a++){var p=lst[a];if(_style.cursor=p,_style.cursor==p)return p}return"url(//patriciaportfolio.googlecode.com/files/openhand.cur),n-resize"}if(browserdetected)return browserdetected;var _el=document.createElement("DIV"),_style=_el.style,_agent=navigator.userAgent,_platform=navigator.platform,d={};d.haspointerlock="pointerLockElement"in document||"webkitPointerLockElement"in document||"mozPointerLockElement"in document,d.isopera="opera"in window,d.isopera12=d.isopera&&"getUserMedia"in navigator,d.isoperamini="[object OperaMini]"===Object.prototype.toString.call(window.operamini),d.isie="all"in document&&"attachEvent"in _el&&!d.isopera,d.isieold=d.isie&&!("msInterpolationMode"in _style),d.isie7=d.isie&&!d.isieold&&(!("documentMode"in document)||7==document.documentMode),d.isie8=d.isie&&"documentMode"in document&&8==document.documentMode,d.isie9=d.isie&&"performance"in window&&9==document.documentMode,d.isie10=d.isie&&"performance"in window&&10==document.documentMode,d.isie11="msRequestFullscreen"in _el&&document.documentMode>=11,d.isieedge12=navigator.userAgent.match(/Edge\/12\./),d.isieedge="msOverflowStyle"in _el,d.ismodernie=d.isie11||d.isieedge,d.isie9mobile=/iemobile.9/i.test(_agent),d.isie9mobile&&(d.isie9=!1),d.isie7mobile=!d.isie9mobile&&d.isie7&&/iemobile/i.test(_agent),d.ismozilla="MozAppearance"in _style,d.iswebkit="WebkitAppearance"in _style,d.ischrome="chrome"in window,d.ischrome38=d.ischrome&&"touchAction"in _style,d.ischrome22=!d.ischrome38&&d.ischrome&&d.haspointerlock,d.ischrome26=!d.ischrome38&&d.ischrome&&"transition"in _style,d.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,d.hasw3ctouch=(window.PointerEvent||!1)&&(navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0),d.hasmstouch=!d.hasw3ctouch&&(window.MSPointerEvent||!1),d.ismac=/^mac$/i.test(_platform),d.isios=d.cantouch&&/iphone|ipad|ipod/i.test(_platform),d.isios4=d.isios&&!("seal"in Object),d.isios7=d.isios&&"webkitHidden"in document,d.isios8=d.isios&&"hidden"in document,d.isandroid=/android/i.test(_agent),d.haseventlistener="addEventListener"in _el,d.trstyle=!1,d.hastransform=!1,d.hastranslate3d=!1,d.transitionstyle=!1,d.hastransition=!1,d.transitionend=!1;var a,check=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(a=0;a<check.length;a++)if(void 0!==_style[check[a]]){d.trstyle=check[a];break}d.hastransform=!!d.trstyle,d.hastransform&&(_style[d.trstyle]="translate3d(1px,2px,3px)",d.hastranslate3d=/translate3d/.test(_style[d.trstyle])),d.transitionstyle=!1,d.prefixstyle="",d.transitionend=!1,check=["transition","webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"];var prefix=["","-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],evs=["transitionend","webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"];for(a=0;a<check.length;a++)if(check[a]in _style){d.transitionstyle=check[a],d.prefixstyle=prefix[a],d.transitionend=evs[a];break}return d.ischrome26&&(d.prefixstyle=prefix[1]),d.hastransition=d.transitionstyle,d.cursorgrabvalue=detectCursorGrab(),d.hasmousecapture="setCapture"in _el,d.hasMutationObserver=ClsMutationObserver!==!1,_el=null,browserdetected=d,d},NiceScrollClass=function(myopt,me){function getMatrixValues(){var tr=self.doc.css(cap.trstyle);return!(!tr||"matrix"!=tr.substr(0,6))&&tr.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}function getZIndex(){var dom=self.win;if("zIndex"in dom)return dom.zIndex();for(;dom.length>0;){if(9==dom[0].nodeType)return!1;var zi=dom.css("zIndex");if(!isNaN(zi)&&0!=zi)return parseInt(zi);dom=dom.parent()}return!1}function getWidthToPixel(dom,prop,chkheight){var wd=dom.css(prop),px=parseFloat(wd);if(isNaN(px)){px=_convertBorderWidth[wd]||0;var brd=3==px?chkheight?self.win.outerHeight()-self.win.innerHeight():self.win.outerWidth()-self.win.innerWidth():1;return self.isie8&&px&&(px+=1),brd?px:0}return px}function _modernWheelEvent(dom,name,fn,bubble){self._bind(dom,name,function(e){var e=e?e:window.event,event={original:e,target:e.target||e.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==e.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return e.preventDefault?e.preventDefault():e.returnValue=!1,!1},stopImmediatePropagation:function(){e.stopImmediatePropagation?e.stopImmediatePropagation():e.cancelBubble=!0}};return"mousewheel"==name?(e.wheelDeltaX&&(event.deltaX=-.025*e.wheelDeltaX),e.wheelDeltaY&&(event.deltaY=-.025*e.wheelDeltaY),!event.deltaY&&!event.deltaX&&(event.deltaY=-.025*e.wheelDelta)):event.deltaY=e.detail,fn.call(dom,event)},bubble)}function execScrollWheel(e,hr,chkscroll){var px,py;if(0==e.deltaMode?(px=-Math.floor(e.deltaX*(self.opt.mousescrollstep/54)),py=-Math.floor(e.deltaY*(self.opt.mousescrollstep/54))):1==e.deltaMode&&(px=-Math.floor(e.deltaX*self.opt.mousescrollstep),py=-Math.floor(e.deltaY*self.opt.mousescrollstep)),hr&&self.opt.oneaxismousemode&&0==px&&py&&(px=py,py=0,chkscroll)){var hrend=px<0?self.getScrollLeft()>=self.page.maxw:self.getScrollLeft()<=0;hrend&&(py=px,px=0)}if(self.isrtlmode&&(px=-px),px&&(self.scrollmom&&self.scrollmom.stop(),self.lastdeltax+=px,self.debounced("mousewheelx",function(){var dt=self.lastdeltax;self.lastdeltax=0,self.rail.drag||self.doScrollLeftBy(dt)},15)),py){if(self.opt.nativeparentscrolling&&chkscroll&&!self.ispage&&!self.zoomactive)if(py<0){if(self.getScrollTop()>=self.page.maxh)return!0}else if(self.getScrollTop()<=0)return!0;self.scrollmom&&self.scrollmom.stop(),self.lastdeltay+=py,self.synched("mousewheely",function(){var dt=self.lastdeltay;self.lastdeltay=0,self.rail.drag||self.doScrollBy(dt)},15)}return e.stopImmediatePropagation(),e.preventDefault()}var self=this;if(this.version="3.6.8",this.name="nicescroll",this.me=me,this.opt={doc:$("body"),win:!1},$.extend(this.opt,_globaloptions),this.opt.snapbackspeed=80,myopt)for(var a in self.opt)void 0!==myopt[a]&&(self.opt[a]=myopt[a]);if(self.opt.disablemutationobserver&&(ClsMutationObserver=!1),this.doc=self.opt.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(self.opt.win?self.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=self.opt.win!==!1,this.win=self.opt.win||(this.ispage?$(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?$(window):this.win,this.body=$("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=self.opt.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==this.opt.rtlmode){var target=this.win[0]==window?this.body:this.win,writingMode=target.css("writing-mode")||target.css("-webkit-writing-mode")||target.css("-ms-writing-mode")||target.css("-moz-writing-mode");"horizontal-tb"==writingMode||"lr-tb"==writingMode||""==writingMode?(this.isrtlmode="rtl"==target.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==writingMode||"tb"==writingMode||"tb-rl"==writingMode||"rl-tb"==writingMode,this.isvertical="vertical-rl"==writingMode||"tb"==writingMode||"tb-rl"==writingMode)}else this.isrtlmode=this.opt.rtlmode===!0,this.isvertical=!1;this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1;do this.id="ascrail"+ascrailcounter++;while(document.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=self.opt.overflowx,this.overflowy=self.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=getBrowserDetection();var cap=$.extend({},this.detected);this.canhwscroll=cap.hastransform&&self.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&self.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(cap.iswebkit||cap.isie||cap.isie11):this.hasreversehr=!(cap.iswebkit||cap.isie&&!cap.isie10&&!cap.isie11):this.hasreversehr=!1,this.istouchcapable=!1,cap.cantouch||!cap.hasw3ctouch&&!cap.hasmstouch?!cap.cantouch||cap.isios||cap.isandroid||!cap.iswebkit&&!cap.ismozilla||(this.istouchcapable=!0):this.istouchcapable=!0,self.opt.enablemouselockapi||(cap.hasmousecapture=!1,cap.haspointerlock=!1),this.debounced=function(name,fn,tm){if(self){var dd=self.delaylist[name]||!1;dd||(fn.call(self),self.delaylist[name]={h:setAnimationFrame(function(){self.delaylist[name].fn.call(self),self.delaylist[name]=!1},tm)}),self.delaylist[name].fn=fn}};var _onsync=!1;this.synched=function(name,fn){function requestSync(){_onsync||(setAnimationFrame(function(){if(self){_onsync=!1;for(var nn in self.synclist){var fn=self.synclist[nn];fn&&fn.call(self),self.synclist[nn]=!1}}}),_onsync=!0)}return self.synclist[name]=fn,requestSync(),name},this.unsynched=function(name){self.synclist[name]&&(self.synclist[name]=!1)},this.css=function(el,pars){for(var n in pars)self.saved.css.push([el,n,el.css(n)]),el.css(n,pars[n])},this.scrollTop=function(val){return void 0===val?self.getScrollTop():self.setScrollTop(val)},this.scrollLeft=function(val){return void 0===val?self.getScrollLeft():self.setScrollLeft(val)};var BezierClass=function(st,ed,spd,p1,p2,p3,p4){this.st=st,this.ed=ed,this.spd=spd,this.p1=p1||0,this.p2=p2||1,this.p3=p3||0,this.p4=p4||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st};if(BezierClass.prototype={B2:function(t){return 3*t*t*(1-t)},B3:function(t){return 3*t*(1-t)*(1-t)},B4:function(t){return(1-t)*(1-t)*(1-t)},getNow:function(){var nw=(new Date).getTime(),pc=1-(nw-this.ts)/this.spd,bz=this.B2(pc)+this.B3(pc)+this.B4(pc);return pc<0?this.ed:this.st+Math.round(this.df*bz)},update:function(ed,spd){return this.st=this.getNow(),this.ed=ed,this.spd=spd,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},cap.hastranslate3d&&cap.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(last){if(!last){var mtx=getMatrixValues();if(mtx)return 16==mtx.length?-mtx[13]:-mtx[5];if(self.timerscroll&&self.timerscroll.bz)return self.timerscroll.bz.getNow()}return self.doc.translate.y},this.getScrollLeft=function(last){if(!last){var mtx=getMatrixValues();if(mtx)return 16==mtx.length?-mtx[12]:-mtx[4];if(self.timerscroll&&self.timerscroll.bh)return self.timerscroll.bh.getNow()}return self.doc.translate.x},this.notifyScrollEvent=function(el){var e=document.createEvent("UIEvents");e.initUIEvent("scroll",!1,!0,window,1),e.niceevent=!0,el.dispatchEvent(e)};var cxscrollleft=this.isrtlmode?1:-1;cap.hastranslate3d&&self.opt.enabletranslate3d?(this.setScrollTop=function(val,silent){self.doc.translate.y=val,self.doc.translate.ty=val*-1+"px",self.doc.css(cap.trstyle,"translate3d("+self.doc.translate.tx+","+self.doc.translate.ty+",0px)"),silent||self.notifyScrollEvent(self.win[0])},this.setScrollLeft=function(val,silent){self.doc.translate.x=val,self.doc.translate.tx=val*cxscrollleft+"px",self.doc.css(cap.trstyle,"translate3d("+self.doc.translate.tx+","+self.doc.translate.ty+",0px)"),silent||self.notifyScrollEvent(self.win[0])}):(this.setScrollTop=function(val,silent){self.doc.translate.y=val,self.doc.translate.ty=val*-1+"px",self.doc.css(cap.trstyle,"translate("+self.doc.translate.tx+","+self.doc.translate.ty+")"),silent||self.notifyScrollEvent(self.win[0])},this.setScrollLeft=function(val,silent){self.doc.translate.x=val,self.doc.translate.tx=val*cxscrollleft+"px",self.doc.css(cap.trstyle,"translate("+self.doc.translate.tx+","+self.doc.translate.ty+")"),silent||self.notifyScrollEvent(self.win[0])})}else this.getScrollTop=function(){return self.docscroll.scrollTop()},this.setScrollTop=function(val){return setTimeout(function(){self&&self.docscroll.scrollTop(val)},1)},this.getScrollLeft=function(){var val;return val=self.hasreversehr?self.detected.ismozilla?self.page.maxw-Math.abs(self.docscroll.scrollLeft()):self.page.maxw-self.docscroll.scrollLeft():self.docscroll.scrollLeft()},this.setScrollLeft=function(val){return setTimeout(function(){if(self)return self.hasreversehr&&(val=self.detected.ismozilla?-(self.page.maxw-val):self.page.maxw-val),self.docscroll.scrollLeft(val)},1)};this.getTarget=function(e){return!!e&&(e.target?e.target:!!e.srcElement&&e.srcElement)},this.hasParent=function(e,id){if(!e)return!1;for(var el=e.target||e.srcElement||e||!1;el&&el.id!=id;)el=el.parentNode||!1;return el!==!1};var _convertBorderWidth={thin:1,medium:3,thick:5};this.getDocumentScrollOffset=function(){return{top:window.pageYOffset||document.documentElement.scrollTop,left:window.pageXOffset||document.documentElement.scrollLeft}},this.getOffset=function(){if(self.isfixed){var ofs=self.win.offset(),scrl=self.getDocumentScrollOffset();return ofs.top-=scrl.top,ofs.left-=scrl.left,ofs}var ww=self.win.offset();if(!self.viewport)return ww;var vp=self.viewport.offset();return{top:ww.top-vp.top,left:ww.left-vp.left}},this.updateScrollBar=function(len){var pos,off;if(self.ishwscroll)self.rail.css({height:self.win.innerHeight()-(self.opt.railpadding.top+self.opt.railpadding.bottom)}),self.railh&&self.railh.css({width:self.win.innerWidth()-(self.opt.railpadding.left+self.opt.railpadding.right)});else{var wpos=self.getOffset();if(pos={top:wpos.top,left:wpos.left-(self.opt.railpadding.left+self.opt.railpadding.right)},pos.top+=getWidthToPixel(self.win,"border-top-width",!0),pos.left+=self.rail.align?self.win.outerWidth()-getWidthToPixel(self.win,"border-right-width")-self.rail.width:getWidthToPixel(self.win,"border-left-width"),off=self.opt.railoffset,off&&(off.top&&(pos.top+=off.top),off.left&&(pos.left+=off.left)),self.railslocked||self.rail.css({top:pos.top,left:pos.left,height:(len?len.h:self.win.innerHeight())-(self.opt.railpadding.top+self.opt.railpadding.bottom)}),self.zoom&&self.zoom.css({top:pos.top+1,left:1==self.rail.align?pos.left-20:pos.left+self.rail.width+4}),self.railh&&!self.railslocked){pos={top:wpos.top,left:wpos.left},off=self.opt.railhoffset,off&&(off.top&&(pos.top+=off.top),off.left&&(pos.left+=off.left));var y=self.railh.align?pos.top+getWidthToPixel(self.win,"border-top-width",!0)+self.win.innerHeight()-self.railh.height:pos.top+getWidthToPixel(self.win,"border-top-width",!0),x=pos.left+getWidthToPixel(self.win,"border-left-width");self.railh.css({top:y-(self.opt.railpadding.top+self.opt.railpadding.bottom),left:x,width:self.railh.width})}}},this.doRailClick=function(e,dbl,hr){var fn,pg,cur,pos;self.railslocked||(self.cancelEvent(e),dbl?(fn=hr?self.doScrollLeft:self.doScrollTop,cur=hr?(e.pageX-self.railh.offset().left-self.cursorwidth/2)*self.scrollratio.x:(e.pageY-self.rail.offset().top-self.cursorheight/2)*self.scrollratio.y,fn(cur)):(fn=hr?self.doScrollLeftBy:self.doScrollBy,cur=hr?self.scroll.x:self.scroll.y,pos=hr?e.pageX-self.railh.offset().left:e.pageY-self.rail.offset().top,pg=hr?self.view.w:self.view.h,fn(cur>=pos?pg:-pg)))},self.hasanimationframe=setAnimationFrame,self.hascancelanimationframe=clearAnimationFrame,self.hasanimationframe?self.hascancelanimationframe||(clearAnimationFrame=function(){self.cancelAnimationFrame=!0}):(setAnimationFrame=function(fn){return setTimeout(fn,15-Math.floor(+new Date/1e3)%16)},clearAnimationFrame=clearTimeout),this.init=function(){if(self.saved.css=[],cap.isie7mobile)return!0;if(cap.isoperamini)return!0;cap.isie10?"-ms-touch-action":"touch-action";cap.hasmstouch&&self.css(self.ispage?$("html"):self.win,{_touchaction:"none"});var _scrollyhidden=cap.ismodernie||cap.isie10?{"-ms-overflow-style":"none"}:{"overflow-y":"hidden"};if(self.zindex="auto",self.ispage||"auto"!=self.opt.zindex?self.zindex=self.opt.zindex:self.zindex=getZIndex()||"auto",!self.ispage&&"auto"!=self.zindex&&self.zindex>globalmaxzindex&&(globalmaxzindex=self.zindex),self.isie&&0==self.zindex&&"auto"==self.opt.zindex&&(self.zindex="auto"),!self.ispage||!cap.cantouch&&!cap.isieold&&!cap.isie9mobile){var cont=self.docscroll;self.ispage&&(cont=self.haswrapper?self.win:self.doc),cap.isie9mobile||self.css(cont,_scrollyhidden),self.ispage&&cap.isie7&&("BODY"==self.doc[0].nodeName?self.css($("html"),{"overflow-y":"hidden"}):"HTML"==self.doc[0].nodeName&&self.css($("body"),_scrollyhidden)),!cap.isios||self.ispage||self.haswrapper||self.css($("body"),{"-webkit-overflow-scrolling":"touch"});var cursor=$(document.createElement("div"));cursor.css({position:"relative",top:0,float:"right",width:self.opt.cursorwidth,height:0,"background-color":self.opt.cursorcolor,border:self.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":self.opt.cursorborderradius,"-moz-border-radius":self.opt.cursorborderradius,"border-radius":self.opt.cursorborderradius}),cursor.hborder=parseFloat(cursor.outerHeight()-cursor.innerHeight()),cursor.addClass("nicescroll-cursors"),self.cursor=cursor;var rail=$(document.createElement("div"));rail.attr("id",self.id),rail.addClass("nicescroll-rails nicescroll-rails-vr");var v,a,kp=["left","right","top","bottom"];for(var n in kp)a=kp[n],v=self.opt.railpadding[a],v?rail.css("padding-"+a,v+"px"):self.opt.railpadding[a]=0;rail.append(cursor),rail.width=Math.max(parseFloat(self.opt.cursorwidth),cursor.outerWidth()),rail.css({width:rail.width+"px",zIndex:self.zindex,background:self.opt.background,cursor:"default"}),rail.visibility=!0,rail.scrollable=!0,rail.align="left"==self.opt.railalign?0:1,self.rail=rail,self.rail.drag=!1;var zoom=!1;!self.opt.boxzoom||self.ispage||cap.isieold||(zoom=document.createElement("div"),self.bind(zoom,"click",self.doZoom),self.bind(zoom,"mouseenter",function(){self.zoom.css("opacity",self.opt.cursoropacitymax)}),self.bind(zoom,"mouseleave",function(){self.zoom.css("opacity",self.opt.cursoropacitymin)}),self.zoom=$(zoom),self.zoom.css({cursor:"pointer",zIndex:self.zindex,backgroundImage:"url("+self.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),self.opt.dblclickzoom&&self.bind(self.win,"dblclick",self.doZoom),cap.cantouch&&self.opt.gesturezoom&&(self.ongesturezoom=function(e){return e.scale>1.5&&self.doZoomIn(e),e.scale<.8&&self.doZoomOut(e),self.cancelEvent(e)},self.bind(self.win,"gestureend",self.ongesturezoom))),self.railh=!1;var railh;if(self.opt.horizrailenabled){self.css(cont,{overflowX:"hidden"});var cursor=$(document.createElement("div"));cursor.css({position:"absolute",top:0,height:self.opt.cursorwidth,width:0,backgroundColor:self.opt.cursorcolor,border:self.opt.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":self.opt.cursorborderradius,"-moz-border-radius":self.opt.cursorborderradius,"border-radius":self.opt.cursorborderradius}),cap.isieold&&cursor.css("overflow","hidden"),cursor.wborder=parseFloat(cursor.outerWidth()-cursor.innerWidth()),cursor.addClass("nicescroll-cursors"),self.cursorh=cursor,railh=$(document.createElement("div")),railh.attr("id",self.id+"-hr"),railh.addClass("nicescroll-rails nicescroll-rails-hr"),railh.height=Math.max(parseFloat(self.opt.cursorwidth),cursor.outerHeight()),railh.css({height:railh.height+"px",zIndex:self.zindex,background:self.opt.background}),railh.append(cursor),railh.visibility=!0,railh.scrollable=!0,railh.align="top"==self.opt.railvalign?0:1,self.railh=railh,self.railh.drag=!1}if(self.ispage)rail.css({position:"fixed",top:0,height:"100%"}),rail.align?rail.css({right:0}):rail.css({left:0}),self.body.append(rail),self.railh&&(railh.css({position:"fixed",left:0,width:"100%"}),railh.align?railh.css({bottom:0}):railh.css({top:0}),self.body.append(railh));else{if(self.ishwscroll){"static"==self.win.css("position")&&self.css(self.win,{position:"relative"});var bd="HTML"==self.win[0].nodeName?self.body:self.win;$(bd).scrollTop(0).scrollLeft(0),self.zoom&&(self.zoom.css({position:"absolute",top:1,right:0,"margin-right":rail.width+4}),bd.append(self.zoom)),rail.css({position:"absolute",top:0}),rail.align?rail.css({right:0}):rail.css({left:0}),bd.append(rail),railh&&(railh.css({position:"absolute",left:0,bottom:0}),railh.align?railh.css({bottom:0}):railh.css({top:0}),bd.append(railh))}else{self.isfixed="fixed"==self.win.css("position");var rlpos=self.isfixed?"fixed":"absolute";self.isfixed||(self.viewport=self.getViewport(self.win[0])),self.viewport&&(self.body=self.viewport,0==/fixed|absolute/.test(self.viewport.css("position"))&&self.css(self.viewport,{position:"relative"})),rail.css({position:rlpos}),self.zoom&&self.zoom.css({position:rlpos}),self.updateScrollBar(),self.body.append(rail),self.zoom&&self.body.append(self.zoom),self.railh&&(railh.css({position:rlpos}),self.body.append(railh))}cap.isios&&self.css(self.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),cap.isie&&self.opt.disableoutline&&self.win.attr("hideFocus","true"),cap.iswebkit&&self.opt.disableoutline&&self.win.css("outline","none")}if(self.opt.autohidemode===!1?(self.autohidedom=!1,self.rail.css({opacity:self.opt.cursoropacitymax}),self.railh&&self.railh.css({opacity:self.opt.cursoropacitymax})):self.opt.autohidemode===!0||"leave"===self.opt.autohidemode?(self.autohidedom=$().add(self.rail),cap.isie8&&(self.autohidedom=self.autohidedom.add(self.cursor)),self.railh&&(self.autohidedom=self.autohidedom.add(self.railh)),self.railh&&cap.isie8&&(self.autohidedom=self.autohidedom.add(self.cursorh))):"scroll"==self.opt.autohidemode?(self.autohidedom=$().add(self.rail),self.railh&&(self.autohidedom=self.autohidedom.add(self.railh))):"cursor"==self.opt.autohidemode?(self.autohidedom=$().add(self.cursor),self.railh&&(self.autohidedom=self.autohidedom.add(self.cursorh))):"hidden"==self.opt.autohidemode&&(self.autohidedom=!1,self.hide(),self.railslocked=!1),cap.isie9mobile){self.scrollmom=new ScrollMomentumClass2D(self),self.onmangotouch=function(){var py=self.getScrollTop(),px=self.getScrollLeft();if(py==self.scrollmom.lastscrolly&&px==self.scrollmom.lastscrollx)return!0;var dfy=py-self.mangotouch.sy,dfx=px-self.mangotouch.sx,df=Math.round(Math.sqrt(Math.pow(dfx,2)+Math.pow(dfy,2)));if(0!=df){var dry=dfy<0?-1:1,drx=dfx<0?-1:1,tm=+new Date;if(self.mangotouch.lazy&&clearTimeout(self.mangotouch.lazy),tm-self.mangotouch.tm>80||self.mangotouch.dry!=dry||self.mangotouch.drx!=drx)self.scrollmom.stop(),self.scrollmom.reset(px,py),self.mangotouch.sy=py,self.mangotouch.ly=py,self.mangotouch.sx=px,self.mangotouch.lx=px,self.mangotouch.dry=dry,self.mangotouch.drx=drx,self.mangotouch.tm=tm;else{self.scrollmom.stop(),self.scrollmom.update(self.mangotouch.sx-dfx,self.mangotouch.sy-dfy),self.mangotouch.tm=tm;var ds=Math.max(Math.abs(self.mangotouch.ly-py),Math.abs(self.mangotouch.lx-px));self.mangotouch.ly=py,self.mangotouch.lx=px,ds>2&&(self.mangotouch.lazy=setTimeout(function(){self.mangotouch.lazy=!1,self.mangotouch.dry=0,self.mangotouch.drx=0,self.mangotouch.tm=0,self.scrollmom.doMomentum(30)},100))}}};var top=self.getScrollTop(),lef=self.getScrollLeft();self.mangotouch={sy:top,ly:top,dry:0,sx:lef,lx:lef,drx:0,lazy:!1,tm:0},self.bind(self.docscroll,"scroll",self.onmangotouch)}else{if(cap.cantouch||self.istouchcapable||self.opt.touchbehavior||cap.hasmstouch){self.scrollmom=new ScrollMomentumClass2D(self),self.ontouchstart=function(e){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(self.hasmoving=!1,!self.railslocked){var tg;if(cap.hasmstouch)for(tg=!!e.target&&e.target;tg;){var nc=$(tg).getNiceScroll();if(nc.length>0&&nc[0].me==self.me)break;if(nc.length>0)return!1;if("DIV"==tg.nodeName&&tg.id==self.id)break;tg=!!tg.parentNode&&tg.parentNode}if(self.cancelScroll(),tg=self.getTarget(e)){var skp=/INPUT/i.test(tg.nodeName)&&/range/i.test(tg.type);if(skp)return self.stopPropagation(e)}if(!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),self.forcescreen){var le=e;e={original:e.original?e.original:e},e.clientX=le.screenX,e.clientY=le.screenY}if(self.rail.drag={x:e.clientX,y:e.clientY,sx:self.scroll.x,sy:self.scroll.y,st:self.getScrollTop(),sl:self.getScrollLeft(),pt:2,dl:!1},self.ispage||!self.opt.directionlockdeadzone)self.rail.drag.dl="f";else{var view={w:$(window).width(),h:$(window).height()},page={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},maxh=Math.max(0,page.h-view.h),maxw=Math.max(0,page.w-view.w);!self.rail.scrollable&&self.railh.scrollable?self.rail.drag.ck=maxh>0&&"v":self.rail.scrollable&&!self.railh.scrollable?self.rail.drag.ck=maxw>0&&"h":self.rail.drag.ck=!1,self.rail.drag.ck||(self.rail.drag.dl="f")}if(self.opt.touchbehavior&&self.isiframe&&cap.isie){var wp=self.win.position();self.rail.drag.x+=wp.left,self.rail.drag.y+=wp.top}if(self.hasmoving=!1,self.lastmouseup=!1,self.scrollmom.reset(e.clientX,e.clientY),!cap.cantouch&&!this.istouchcapable&&!e.pointerType){var ip=!!tg&&/INPUT|SELECT|TEXTAREA/i.test(tg.nodeName);if(!ip)return!self.ispage&&cap.hasmousecapture&&tg.setCapture(),self.opt.touchbehavior?(tg.onclick&&!tg._onclick&&(tg._onclick=tg.onclick,tg.onclick=function(e){return!self.hasmoving&&void tg._onclick.call(this,e)}),self.cancelEvent(e)):self.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test($(tg).attr("type"))&&(pc={tg:tg,click:!1},self.preventclick=pc)}}},self.ontouchend=function(e){if(!self.rail.drag)return!0;if(2==self.rail.drag.pt){if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(self.scrollmom.doMomentum(),self.rail.drag=!1,self.hasmoving&&(self.lastmouseup=!0,self.hideCursor(),cap.hasmousecapture&&document.releaseCapture(),!cap.cantouch))return self.cancelEvent(e)}else if(1==self.rail.drag.pt)return self.onmouseup(e)};var moveneedoffset=self.opt.touchbehavior&&self.isiframe&&!cap.hasmousecapture;self.ontouchmove=function(e,byiframe){if(!self.rail.drag)return!1;if(e.targetTouches&&self.opt.preventmultitouchscrolling&&e.targetTouches.length>1)return!1;if(e.pointerType&&2!=e.pointerType&&"touch"!=e.pointerType)return!1;if(2==self.rail.drag.pt){if(cap.cantouch&&cap.isios&&void 0===e.original)return!0;self.hasmoving=!0,self.preventclick&&!self.preventclick.click&&(self.preventclick.click=self.preventclick.tg.onclick||!1,self.preventclick.tg.onclick=self.onpreventclick);var ev=$.extend({original:e},e);if(e=ev,"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY),self.forcescreen){var le=e;e={original:e.original?e.original:e},e.clientX=le.screenX,e.clientY=le.screenY}var ofy,ofx;if(ofx=ofy=0,moveneedoffset&&!byiframe){var wp=self.win.position();ofx=-wp.left,ofy=-wp.top}var fy=e.clientY+ofy,my=fy-self.rail.drag.y,fx=e.clientX+ofx,mx=fx-self.rail.drag.x,ny=self.rail.drag.st-my;self.ishwscroll&&self.opt.bouncescroll?ny<0?ny=Math.round(ny/2):ny>self.page.maxh&&(ny=self.page.maxh+Math.round((ny-self.page.maxh)/2)):(ny<0&&(ny=0,fy=0),ny>self.page.maxh&&(ny=self.page.maxh,fy=0));var nx;self.railh&&self.railh.scrollable&&(nx=self.isrtlmode?mx-self.rail.drag.sl:self.rail.drag.sl-mx,self.ishwscroll&&self.opt.bouncescroll?nx<0?nx=Math.round(nx/2):nx>self.page.maxw&&(nx=self.page.maxw+Math.round((nx-self.page.maxw)/2)):(nx<0&&(nx=0,fx=0),nx>self.page.maxw&&(nx=self.page.maxw,fx=0)));var grabbed=!1;if(self.rail.drag.dl)grabbed=!0,"v"==self.rail.drag.dl?nx=self.rail.drag.sl:"h"==self.rail.drag.dl&&(ny=self.rail.drag.st);else{var ay=Math.abs(my),ax=Math.abs(mx),dz=self.opt.directionlockdeadzone;
if("v"==self.rail.drag.ck){if(ay>dz&&ax<=.3*ay)return self.rail.drag=!1,!0;ax>dz&&(self.rail.drag.dl="f",$("body").scrollTop($("body").scrollTop()))}else if("h"==self.rail.drag.ck){if(ax>dz&&ay<=.3*ax)return self.rail.drag=!1,!0;ay>dz&&(self.rail.drag.dl="f",$("body").scrollLeft($("body").scrollLeft()))}}if(self.synched("touchmove",function(){self.rail.drag&&2==self.rail.drag.pt&&(self.prepareTransition&&self.prepareTransition(0),self.rail.scrollable&&self.setScrollTop(ny),self.scrollmom.update(fx,fy),self.railh&&self.railh.scrollable?(self.setScrollLeft(nx),self.showCursor(ny,nx)):self.showCursor(ny),cap.isie10&&document.selection.clear())}),cap.ischrome&&self.istouchcapable&&(grabbed=!1),grabbed)return self.cancelEvent(e)}else if(1==self.rail.drag.pt)return self.onmousemove(e)}}if(self.onmousedown=function(e,hronly){if(!self.rail.drag||1==self.rail.drag.pt){if(self.railslocked)return self.cancelEvent(e);self.cancelScroll(),self.rail.drag={x:e.clientX,y:e.clientY,sx:self.scroll.x,sy:self.scroll.y,pt:1,hr:!!hronly};var tg=self.getTarget(e);return!self.ispage&&cap.hasmousecapture&&tg.setCapture(),self.isiframe&&!cap.hasmousecapture&&(self.saved.csspointerevents=self.doc.css("pointer-events"),self.css(self.doc,{"pointer-events":"none"})),self.hasmoving=!1,self.cancelEvent(e)}},self.onmouseup=function(e){if(self.rail.drag)return 1!=self.rail.drag.pt||(cap.hasmousecapture&&document.releaseCapture(),self.isiframe&&!cap.hasmousecapture&&self.doc.css("pointer-events",self.saved.csspointerevents),self.rail.drag=!1,self.hasmoving&&self.triggerScrollEnd(),self.cancelEvent(e))},self.onmousemove=function(e){if(self.rail.drag){if(1!=self.rail.drag.pt)return;if(cap.ischrome&&0==e.which)return self.onmouseup(e);if(self.cursorfreezed=!0,self.hasmoving=!0,self.rail.drag.hr){self.scroll.x=self.rail.drag.sx+(e.clientX-self.rail.drag.x),self.scroll.x<0&&(self.scroll.x=0);var mw=self.scrollvaluemaxw;self.scroll.x>mw&&(self.scroll.x=mw)}else{self.scroll.y=self.rail.drag.sy+(e.clientY-self.rail.drag.y),self.scroll.y<0&&(self.scroll.y=0);var my=self.scrollvaluemax;self.scroll.y>my&&(self.scroll.y=my)}return self.synched("mousemove",function(){self.rail.drag&&1==self.rail.drag.pt&&(self.showCursor(),self.rail.drag.hr?self.hasreversehr?self.doScrollLeft(self.scrollvaluemaxw-Math.round(self.scroll.x*self.scrollratio.x),self.opt.cursordragspeed):self.doScrollLeft(Math.round(self.scroll.x*self.scrollratio.x),self.opt.cursordragspeed):self.doScrollTop(Math.round(self.scroll.y*self.scrollratio.y),self.opt.cursordragspeed))}),self.cancelEvent(e)}self.checkarea=0},cap.cantouch||self.opt.touchbehavior)self.onpreventclick=function(e){if(self.preventclick)return self.preventclick.tg.onclick=self.preventclick.click,self.preventclick=!1,self.cancelEvent(e)},self.bind(self.win,"mousedown",self.ontouchstart),self.onclick=!cap.isios&&function(e){return!self.lastmouseup||(self.lastmouseup=!1,self.cancelEvent(e))},self.opt.grabcursorenabled&&cap.cursorgrabvalue&&(self.css(self.ispage?self.doc:self.win,{cursor:cap.cursorgrabvalue}),self.css(self.rail,{cursor:cap.cursorgrabvalue}));else{var checkSelectionScroll=function(e){if(self.selectiondrag){if(e){var ww=self.win.outerHeight(),df=e.pageY-self.selectiondrag.top;df>0&&df<ww&&(df=0),df>=ww&&(df-=ww),self.selectiondrag.df=df}if(0!=self.selectiondrag.df){var rt=2*-Math.floor(self.selectiondrag.df/6);self.doScrollBy(rt),self.debounced("doselectionscroll",function(){checkSelectionScroll()},50)}}};"getSelection"in document?self.hasTextSelected=function(){return document.getSelection().rangeCount>0}:"selection"in document?self.hasTextSelected=function(){return"None"!=document.selection.type}:self.hasTextSelected=function(){return!1},self.onselectionstart=function(e){self.ispage||(self.selectiondrag=self.win.offset())},self.onselectionend=function(e){self.selectiondrag=!1},self.onselectiondrag=function(e){self.selectiondrag&&self.hasTextSelected()&&self.debounced("selectionscroll",function(){checkSelectionScroll(e)},250)}}cap.hasw3ctouch?(self.css(self.rail,{"touch-action":"none"}),self.css(self.cursor,{"touch-action":"none"}),self.bind(self.win,"pointerdown",self.ontouchstart),self.bind(document,"pointerup",self.ontouchend),self.bind(document,"pointermove",self.ontouchmove)):cap.hasmstouch?(self.css(self.rail,{"-ms-touch-action":"none"}),self.css(self.cursor,{"-ms-touch-action":"none"}),self.bind(self.win,"MSPointerDown",self.ontouchstart),self.bind(document,"MSPointerUp",self.ontouchend),self.bind(document,"MSPointerMove",self.ontouchmove),self.bind(self.cursor,"MSGestureHold",function(e){e.preventDefault()}),self.bind(self.cursor,"contextmenu",function(e){e.preventDefault()})):this.istouchcapable&&(self.bind(self.win,"touchstart",self.ontouchstart),self.bind(document,"touchend",self.ontouchend),self.bind(document,"touchcancel",self.ontouchend),self.bind(document,"touchmove",self.ontouchmove)),(self.opt.cursordragontouch||!cap.cantouch&&!self.opt.touchbehavior)&&(self.rail.css({cursor:"default"}),self.railh&&self.railh.css({cursor:"default"}),self.jqbind(self.rail,"mouseenter",function(){return!(!self.ispage&&!self.win.is(":visible"))&&(self.canshowonmouseevent&&self.showCursor(),void(self.rail.active=!0))}),self.jqbind(self.rail,"mouseleave",function(){self.rail.active=!1,self.rail.drag||self.hideCursor()}),self.opt.sensitiverail&&(self.bind(self.rail,"click",function(e){self.doRailClick(e,!1,!1)}),self.bind(self.rail,"dblclick",function(e){self.doRailClick(e,!0,!1)}),self.bind(self.cursor,"click",function(e){self.cancelEvent(e)}),self.bind(self.cursor,"dblclick",function(e){self.cancelEvent(e)})),self.railh&&(self.jqbind(self.railh,"mouseenter",function(){return!(!self.ispage&&!self.win.is(":visible"))&&(self.canshowonmouseevent&&self.showCursor(),void(self.rail.active=!0))}),self.jqbind(self.railh,"mouseleave",function(){self.rail.active=!1,self.rail.drag||self.hideCursor()}),self.opt.sensitiverail&&(self.bind(self.railh,"click",function(e){self.doRailClick(e,!1,!0)}),self.bind(self.railh,"dblclick",function(e){self.doRailClick(e,!0,!0)}),self.bind(self.cursorh,"click",function(e){self.cancelEvent(e)}),self.bind(self.cursorh,"dblclick",function(e){self.cancelEvent(e)})))),cap.cantouch||self.opt.touchbehavior?(self.bind(cap.hasmousecapture?self.win:document,"mouseup",self.ontouchend),self.bind(document,"mousemove",self.ontouchmove),self.onclick&&self.bind(document,"click",self.onclick),self.opt.cursordragontouch?(self.bind(self.cursor,"mousedown",self.onmousedown),self.bind(self.cursor,"mouseup",self.onmouseup),self.cursorh&&self.bind(self.cursorh,"mousedown",function(e){self.onmousedown(e,!0)}),self.cursorh&&self.bind(self.cursorh,"mouseup",self.onmouseup)):(self.bind(self.rail,"mousedown",function(e){e.preventDefault()}),self.railh&&self.bind(self.railh,"mousedown",function(e){e.preventDefault()}))):(self.bind(cap.hasmousecapture?self.win:document,"mouseup",self.onmouseup),self.bind(document,"mousemove",self.onmousemove),self.onclick&&self.bind(document,"click",self.onclick),self.bind(self.cursor,"mousedown",self.onmousedown),self.bind(self.cursor,"mouseup",self.onmouseup),self.railh&&(self.bind(self.cursorh,"mousedown",function(e){self.onmousedown(e,!0)}),self.bind(self.cursorh,"mouseup",self.onmouseup)),!self.ispage&&self.opt.enablescrollonselection&&(self.bind(self.win[0],"mousedown",self.onselectionstart),self.bind(document,"mouseup",self.onselectionend),self.bind(self.cursor,"mouseup",self.onselectionend),self.cursorh&&self.bind(self.cursorh,"mouseup",self.onselectionend),self.bind(document,"mousemove",self.onselectiondrag)),self.zoom&&(self.jqbind(self.zoom,"mouseenter",function(){self.canshowonmouseevent&&self.showCursor(),self.rail.active=!0}),self.jqbind(self.zoom,"mouseleave",function(){self.rail.active=!1,self.rail.drag||self.hideCursor()}))),self.opt.enablemousewheel&&(self.isiframe||self.mousewheel(cap.isie&&self.ispage?document:self.win,self.onmousewheel),self.mousewheel(self.rail,self.onmousewheel),self.railh&&self.mousewheel(self.railh,self.onmousewheelhr)),self.ispage||cap.cantouch||/HTML|^BODY/.test(self.win[0].nodeName)||(self.win.attr("tabindex")||self.win.attr({tabindex:tabindexcounter++}),self.jqbind(self.win,"focus",function(e){domfocus=self.getTarget(e).id||!0,self.hasfocus=!0,self.canshowonmouseevent&&self.noticeCursor()}),self.jqbind(self.win,"blur",function(e){domfocus=!1,self.hasfocus=!1}),self.jqbind(self.win,"mouseenter",function(e){mousefocus=self.getTarget(e).id||!0,self.hasmousefocus=!0,self.canshowonmouseevent&&self.noticeCursor()}),self.jqbind(self.win,"mouseleave",function(){mousefocus=!1,self.hasmousefocus=!1,self.rail.drag||self.hideCursor()}))}if(self.onkeypress=function(e){if(self.railslocked&&0==self.page.maxh)return!0;e=e?e:window.e;var tg=self.getTarget(e);if(tg&&/INPUT|TEXTAREA|SELECT|OPTION/.test(tg.nodeName)){var tp=tg.getAttribute("type")||tg.type||!1;if(!tp||!/submit|button|cancel/i.tp)return!0}if($(tg).attr("contenteditable"))return!0;if(self.hasfocus||self.hasmousefocus&&!domfocus||self.ispage&&!domfocus&&!mousefocus){var key=e.keyCode;if(self.railslocked&&27!=key)return self.cancelEvent(e);var ctrl=e.ctrlKey||!1,shift=e.shiftKey||!1,ret=!1;switch(key){case 38:case 63233:self.doScrollBy(72),ret=!0;break;case 40:case 63235:self.doScrollBy(-72),ret=!0;break;case 37:case 63232:self.railh&&(ctrl?self.doScrollLeft(0):self.doScrollLeftBy(72),ret=!0);break;case 39:case 63234:self.railh&&(ctrl?self.doScrollLeft(self.page.maxw):self.doScrollLeftBy(-72),ret=!0);break;case 33:case 63276:self.doScrollBy(self.view.h),ret=!0;break;case 34:case 63277:self.doScrollBy(-self.view.h),ret=!0;break;case 36:case 63273:self.railh&&ctrl?self.doScrollPos(0,0):self.doScrollTo(0),ret=!0;break;case 35:case 63275:self.railh&&ctrl?self.doScrollPos(self.page.maxw,self.page.maxh):self.doScrollTo(self.page.maxh),ret=!0;break;case 32:self.opt.spacebarenabled&&(shift?self.doScrollBy(self.view.h):self.doScrollBy(-self.view.h),ret=!0);break;case 27:self.zoomactive&&(self.doZoom(),ret=!0)}if(ret)return self.cancelEvent(e)}},self.opt.enablekeyboard&&self.bind(document,cap.isopera&&!cap.isopera12?"keypress":"keydown",self.onkeypress),self.bind(document,"keydown",function(e){var ctrl=e.ctrlKey||!1;ctrl&&(self.wheelprevented=!0)}),self.bind(document,"keyup",function(e){var ctrl=e.ctrlKey||!1;ctrl||(self.wheelprevented=!1)}),self.bind(window,"blur",function(e){self.wheelprevented=!1}),self.bind(window,"resize",self.lazyResize),self.bind(window,"orientationchange",self.lazyResize),self.bind(window,"load",self.lazyResize),cap.ischrome&&!self.ispage&&!self.haswrapper){var tmp=self.win.attr("style"),ww=parseFloat(self.win.css("width"))+1;self.win.css("width",ww),self.synched("chromefix",function(){self.win.attr("style",tmp)})}self.onAttributeChange=function(e){self.lazyResize(self.isieold?250:30)},self.isie11||ClsMutationObserver===!1||(self.observerbody=new ClsMutationObserver(function(mutations){if(mutations.forEach(function(mut){if("attributes"==mut.type)return $("body").hasClass("modal-open")&&$("body").hasClass("modal-dialog")&&!$.contains($(".modal-dialog")[0],self.doc[0])?self.hide():self.show()}),document.body.scrollHeight!=self.page.maxh)return self.lazyResize(30)}),self.observerbody.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),self.ispage||self.haswrapper||(ClsMutationObserver!==!1?(self.observer=new ClsMutationObserver(function(mutations){mutations.forEach(self.onAttributeChange)}),self.observer.observe(self.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),self.observerremover=new ClsMutationObserver(function(mutations){mutations.forEach(function(mo){if(mo.removedNodes.length>0)for(var dd in mo.removedNodes)if(self&&mo.removedNodes[dd]==self.win[0])return self.remove()})}),self.observerremover.observe(self.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(self.bind(self.win,cap.isie&&!cap.isie9?"propertychange":"DOMAttrModified",self.onAttributeChange),cap.isie9&&self.win[0].attachEvent("onpropertychange",self.onAttributeChange),self.bind(self.win,"DOMNodeRemoved",function(e){e.target==self.win[0]&&self.remove()}))),!self.ispage&&self.opt.boxzoom&&self.bind(window,"resize",self.resizeZoom),self.istextarea&&(self.bind(self.win,"keydown",self.lazyResize),self.bind(self.win,"mouseup",self.lazyResize)),self.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var oniframeload=function(){self.iframexd=!1;var doc;try{doc="contentDocument"in this?this.contentDocument:this.contentWindow.document;doc.domain}catch(e){self.iframexd=!0,doc=!1}if(self.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;if(self.forcescreen=!0,self.isiframe&&(self.iframe={doc:$(doc),html:self.doc.contents().find("html")[0],body:self.doc.contents().find("body")[0]},self.getContentSize=function(){return{w:Math.max(self.iframe.html.scrollWidth,self.iframe.body.scrollWidth),h:Math.max(self.iframe.html.scrollHeight,self.iframe.body.scrollHeight)}},self.docscroll=$(self.iframe.body)),!cap.isios&&self.opt.iframeautoresize&&!self.isiframe){self.win.scrollTop(0),self.doc.height("");var hh=Math.max(doc.getElementsByTagName("html")[0].scrollHeight,doc.body.scrollHeight);self.doc.height(hh)}self.lazyResize(30),cap.isie7&&self.css($(self.iframe.html),_scrollyhidden),self.css($(self.iframe.body),_scrollyhidden),cap.isios&&self.haswrapper&&self.css($(doc.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?self.bind(this.contentWindow,"scroll",self.onscroll):self.bind(doc,"scroll",self.onscroll),self.opt.enablemousewheel&&self.mousewheel(doc,self.onmousewheel),self.opt.enablekeyboard&&self.bind(doc,cap.isopera?"keypress":"keydown",self.onkeypress),(cap.cantouch||self.opt.touchbehavior)&&(self.bind(doc,"mousedown",self.ontouchstart),self.bind(doc,"mousemove",function(e){return self.ontouchmove(e,!0)}),self.opt.grabcursorenabled&&cap.cursorgrabvalue&&self.css($(doc.body),{cursor:cap.cursorgrabvalue})),self.bind(doc,"mouseup",self.ontouchend),self.zoom&&(self.opt.dblclickzoom&&self.bind(doc,"dblclick",self.doZoom),self.ongesturezoom&&self.bind(doc,"gestureend",self.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){oniframeload.call(self.doc[0],!1)},500),self.bind(this.doc,"load",oniframeload)}},this.showCursor=function(py,px){if(self.cursortimeout&&(clearTimeout(self.cursortimeout),self.cursortimeout=0),self.rail){if(self.autohidedom&&(self.autohidedom.stop().css({opacity:self.opt.cursoropacitymax}),self.cursoractive=!0),self.rail.drag&&1==self.rail.drag.pt||(void 0!==py&&py!==!1&&(self.scroll.y=Math.round(1*py/self.scrollratio.y)),void 0!==px&&(self.scroll.x=Math.round(1*px/self.scrollratio.x))),self.cursor.css({height:self.cursorheight,top:self.scroll.y}),self.cursorh){var lx=self.hasreversehr?self.scrollvaluemaxw-self.scroll.x:self.scroll.x;!self.rail.align&&self.rail.visibility?self.cursorh.css({width:self.cursorwidth,left:lx+self.rail.width}):self.cursorh.css({width:self.cursorwidth,left:lx}),self.cursoractive=!0}self.zoom&&self.zoom.stop().css({opacity:self.opt.cursoropacitymax})}},this.hideCursor=function(tm){self.cursortimeout||self.rail&&self.autohidedom&&(self.hasmousefocus&&"leave"==self.opt.autohidemode||(self.cursortimeout=setTimeout(function(){self.rail.active&&self.showonmouseevent||(self.autohidedom.stop().animate({opacity:self.opt.cursoropacitymin}),self.zoom&&self.zoom.stop().animate({opacity:self.opt.cursoropacitymin}),self.cursoractive=!1),self.cursortimeout=0},tm||self.opt.hidecursordelay)))},this.noticeCursor=function(tm,py,px){self.showCursor(py,px),self.rail.active||self.hideCursor(tm)},this.getContentSize=self.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:self.haswrapper?function(){return{w:self.doc.outerWidth()+parseInt(self.win.css("paddingLeft"))+parseInt(self.win.css("paddingRight")),h:self.doc.outerHeight()+parseInt(self.win.css("paddingTop"))+parseInt(self.win.css("paddingBottom"))}}:function(){return{w:self.docscroll[0].scrollWidth,h:self.docscroll[0].scrollHeight}},this.onResize=function(e,page){if(!self||!self.win)return!1;if(!self.haswrapper&&!self.ispage){if("none"==self.win.css("display"))return self.visibility&&self.hideRail().hideRailHr(),!1;self.hidden||self.visibility||self.showRail().showRailHr()}var premaxh=self.page.maxh,premaxw=self.page.maxw,preview={h:self.view.h,w:self.view.w};if(self.view={w:self.ispage?self.win.width():parseInt(self.win[0].clientWidth),h:self.ispage?self.win.height():parseInt(self.win[0].clientHeight)},self.page=page?page:self.getContentSize(),self.page.maxh=Math.max(0,self.page.h-self.view.h),self.page.maxw=Math.max(0,self.page.w-self.view.w),self.page.maxh==premaxh&&self.page.maxw==premaxw&&self.view.w==preview.w&&self.view.h==preview.h){if(self.ispage)return self;var pos=self.win.offset();if(self.lastposition){var lst=self.lastposition;if(lst.top==pos.top&&lst.left==pos.left)return self}self.lastposition=pos}if(0==self.page.maxh?(self.hideRail(),self.scrollvaluemax=0,self.scroll.y=0,self.scrollratio.y=0,self.cursorheight=0,self.setScrollTop(0),self.rail&&(self.rail.scrollable=!1)):(self.page.maxh-=self.opt.railpadding.top+self.opt.railpadding.bottom,self.rail.scrollable=!0),0==self.page.maxw?(self.hideRailHr(),self.scrollvaluemaxw=0,self.scroll.x=0,self.scrollratio.x=0,self.cursorwidth=0,self.setScrollLeft(0),self.railh&&(self.railh.scrollable=!1)):(self.page.maxw-=self.opt.railpadding.left+self.opt.railpadding.right,self.railh&&(self.railh.scrollable=self.opt.horizrailenabled)),self.railslocked=self.locked||0==self.page.maxh&&0==self.page.maxw,self.railslocked)return self.ispage||self.updateScrollBar(self.view),!1;self.hidden||self.visibility?!self.railh||self.hidden||self.railh.visibility||self.showRailHr():self.showRail().showRailHr(),self.istextarea&&self.win.css("resize")&&"none"!=self.win.css("resize")&&(self.view.h-=20),self.cursorheight=Math.min(self.view.h,Math.round(self.view.h*(self.view.h/self.page.h))),self.cursorheight=self.opt.cursorfixedheight?self.opt.cursorfixedheight:Math.max(self.opt.cursorminheight,self.cursorheight),self.cursorwidth=Math.min(self.view.w,Math.round(self.view.w*(self.view.w/self.page.w))),self.cursorwidth=self.opt.cursorfixedheight?self.opt.cursorfixedheight:Math.max(self.opt.cursorminheight,self.cursorwidth),self.scrollvaluemax=self.view.h-self.cursorheight-self.cursor.hborder-(self.opt.railpadding.top+self.opt.railpadding.bottom),self.railh&&(self.railh.width=self.page.maxh>0?self.view.w-self.rail.width:self.view.w,self.scrollvaluemaxw=self.railh.width-self.cursorwidth-self.cursorh.wborder-(self.opt.railpadding.left+self.opt.railpadding.right)),self.ispage||self.updateScrollBar(self.view),self.scrollratio={x:self.page.maxw/self.scrollvaluemaxw,y:self.page.maxh/self.scrollvaluemax};var sy=self.getScrollTop();return sy>self.page.maxh?self.doScrollTop(self.page.maxh):(self.scroll.y=Math.round(self.getScrollTop()*(1/self.scrollratio.y)),self.scroll.x=Math.round(self.getScrollLeft()*(1/self.scrollratio.x)),self.cursoractive&&self.noticeCursor()),self.scroll.y&&0==self.getScrollTop()&&self.doScrollTo(Math.floor(self.scroll.y*self.scrollratio.y)),self},this.resize=self.onResize,this.hlazyresize=0,this.lazyResize=function(tm){return self.haswrapper||self.hide(),self.hlazyresize&&clearTimeout(self.hlazyresize),self.hlazyresize=setTimeout(function(){self&&self.show().resize()},240),self},this.jqbind=function(dom,name,fn){self.events.push({e:dom,n:name,f:fn,q:!0}),$(dom).bind(name,fn)},this.mousewheel=function(dom,fn,bubble){var el="jquery"in dom?dom[0]:dom;if("onwheel"in document.createElement("div"))self._bind(el,"wheel",fn,bubble||!1);else{var wname=void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll";_modernWheelEvent(el,wname,fn,bubble||!1),"DOMMouseScroll"==wname&&_modernWheelEvent(el,"MozMousePixelScroll",fn,bubble||!1)}},cap.haseventlistener?(this.bind=function(dom,name,fn,bubble){var el="jquery"in dom?dom[0]:dom;self._bind(el,name,fn,bubble||!1)},this._bind=function(el,name,fn,bubble){self.events.push({e:el,n:name,f:fn,b:bubble,q:!1}),el.addEventListener(name,fn,bubble||!1)},this.cancelEvent=function(e){if(!e)return!1;var e=e.original?e.original:e;return e.cancelable&&e.preventDefault(),e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),!1},this.stopPropagation=function(e){if(!e)return!1;var e=e.original?e.original:e;return e.stopPropagation(),!1},this._unbind=function(el,name,fn,bub){el.removeEventListener(name,fn,bub)}):(this.bind=function(dom,name,fn,bubble){var el="jquery"in dom?dom[0]:dom;self._bind(el,name,function(e){return e=e||window.event||!1,e&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),fn.call(el,e)!==!1&&bubble!==!1||self.cancelEvent(e)})},this._bind=function(el,name,fn,bubble){self.events.push({e:el,n:name,f:fn,b:bubble,q:!1}),el.attachEvent?el.attachEvent("on"+name,fn):el["on"+name]=fn},this.cancelEvent=function(e){var e=window.event||!1;return!!e&&(e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1)},this.stopPropagation=function(e){var e=window.event||!1;return!!e&&(e.cancelBubble=!0,!1)},this._unbind=function(el,name,fn,bub){el.detachEvent?el.detachEvent("on"+name,fn):el["on"+name]=!1}),this.unbindAll=function(){for(var a=0;a<self.events.length;a++){var r=self.events[a];r.q?r.e.unbind(r.n,r.f):self._unbind(r.e,r.n,r.f,r.b)}},this.showRail=function(){return 0==self.page.maxh||!self.ispage&&"none"==self.win.css("display")||(self.visibility=!0,self.rail.visibility=!0,self.rail.css("display","block")),self},this.showRailHr=function(){return self.railh?(0==self.page.maxw||!self.ispage&&"none"==self.win.css("display")||(self.railh.visibility=!0,self.railh.css("display","block")),self):self},this.hideRail=function(){return self.visibility=!1,self.rail.visibility=!1,self.rail.css("display","none"),self},this.hideRailHr=function(){return self.railh?(self.railh.visibility=!1,self.railh.css("display","none"),self):self},this.show=function(){return self.hidden=!1,self.railslocked=!1,self.showRail().showRailHr()},this.hide=function(){return self.hidden=!0,self.railslocked=!0,self.hideRail().hideRailHr()},this.toggle=function(){return self.hidden?self.show():self.hide()},this.remove=function(){self.stop(),self.cursortimeout&&clearTimeout(self.cursortimeout);for(var n in self.delaylist)self.delaylist[n]&&clearAnimationFrame(self.delaylist[n].h);self.doZoomOut(),self.unbindAll(),cap.isie9&&self.win[0].detachEvent("onpropertychange",self.onAttributeChange),self.observer!==!1&&self.observer.disconnect(),self.observerremover!==!1&&self.observerremover.disconnect(),self.observerbody!==!1&&self.observerbody.disconnect(),self.events=null,self.cursor&&self.cursor.remove(),self.cursorh&&self.cursorh.remove(),self.rail&&self.rail.remove(),self.railh&&self.railh.remove(),self.zoom&&self.zoom.remove();for(var a=0;a<self.saved.css.length;a++){var d=self.saved.css[a];d[0].css(d[1],void 0===d[2]?"":d[2])}self.saved=!1,self.me.data("__nicescroll","");var lst=$.nicescroll;lst.each(function(i){if(this&&this.id===self.id){delete lst[i];for(var b=++i;b<lst.length;b++,i++)lst[i]=lst[b];lst.length--,lst.length&&delete lst[lst.length]}});for(var i in self)self[i]=null,delete self[i];self=null},this.scrollstart=function(fn){return this.onscrollstart=fn,self},this.scrollend=function(fn){return this.onscrollend=fn,self},this.scrollcancel=function(fn){return this.onscrollcancel=fn,self},this.zoomin=function(fn){return this.onzoomin=fn,self},this.zoomout=function(fn){return this.onzoomout=fn,self},this.isScrollable=function(e){var dom=e.target?e.target:e;if("OPTION"==dom.nodeName)return!0;for(;dom&&1==dom.nodeType&&!/^BODY|HTML/.test(dom.nodeName);){var dd=$(dom),ov=dd.css("overflowY")||dd.css("overflowX")||dd.css("overflow")||"";if(/scroll|auto/.test(ov))return dom.clientHeight!=dom.scrollHeight;dom=!!dom.parentNode&&dom.parentNode}return!1},this.getViewport=function(me){for(var dom=!(!me||!me.parentNode)&&me.parentNode;dom&&1==dom.nodeType&&!/^BODY|HTML/.test(dom.nodeName);){var dd=$(dom);if(/fixed|absolute/.test(dd.css("position")))return dd;var ov=dd.css("overflowY")||dd.css("overflowX")||dd.css("overflow")||"";if(/scroll|auto/.test(ov)&&dom.clientHeight!=dom.scrollHeight)return dd;if(dd.getNiceScroll().length>0)return dd;dom=!!dom.parentNode&&dom.parentNode}return!1},this.triggerScrollEnd=function(){if(self.onscrollend){var px=self.getScrollLeft(),py=self.getScrollTop(),info={type:"scrollend",current:{x:px,y:py},end:{x:px,y:py}};self.onscrollend.call(self,info)}},this.onmousewheel=function(e){if(!self.wheelprevented){if(self.railslocked)return self.debounced("checkunlock",self.resize,250),!0;if(self.rail.drag)return self.cancelEvent(e);if("auto"==self.opt.oneaxismousemode&&0!=e.deltaX&&(self.opt.oneaxismousemode=!1),self.opt.oneaxismousemode&&0==e.deltaX&&!self.rail.scrollable)return!self.railh||!self.railh.scrollable||self.onmousewheelhr(e);var nw=+new Date,chk=!1;if(self.opt.preservenativescrolling&&self.checkarea+600<nw&&(self.nativescrollingarea=self.isScrollable(e),chk=!0),self.checkarea=nw,self.nativescrollingarea)return!0;var ret=execScrollWheel(e,!1,chk);return ret&&(self.checkarea=0),ret}},this.onmousewheelhr=function(e){if(!self.wheelprevented){if(self.railslocked||!self.railh.scrollable)return!0;if(self.rail.drag)return self.cancelEvent(e);var nw=+new Date,chk=!1;return self.opt.preservenativescrolling&&self.checkarea+600<nw&&(self.nativescrollingarea=self.isScrollable(e),chk=!0),self.checkarea=nw,!!self.nativescrollingarea||(self.railslocked?self.cancelEvent(e):execScrollWheel(e,!0,chk))}},this.stop=function(){return self.cancelScroll(),self.scrollmon&&self.scrollmon.stop(),self.cursorfreezed=!1,self.scroll.y=Math.round(self.getScrollTop()*(1/self.scrollratio.y)),self.noticeCursor(),self},this.getTransitionSpeed=function(dif){var sp=Math.round(10*self.opt.scrollspeed),ex=Math.min(sp,Math.round(dif/20*self.opt.scrollspeed));return ex>20?ex:0},self.opt.smoothscroll?self.ishwscroll&&cap.hastransition&&self.opt.usetransition&&self.opt.smoothscroll?(this.prepareTransition=function(dif,istime){var ex=istime?dif>20?dif:0:self.getTransitionSpeed(dif),trans=ex?cap.prefixstyle+"transform "+ex+"ms ease-out":"";return self.lasttransitionstyle&&self.lasttransitionstyle==trans||(self.lasttransitionstyle=trans,self.doc.css(cap.transitionstyle,trans)),ex},this.doScrollLeft=function(x,spd){var y=self.scrollrunning?self.newscrolly:self.getScrollTop();self.doScrollPos(x,y,spd)},this.doScrollTop=function(y,spd){var x=self.scrollrunning?self.newscrollx:self.getScrollLeft();self.doScrollPos(x,y,spd)},this.doScrollPos=function(x,y,spd){var py=self.getScrollTop(),px=self.getScrollLeft();return((self.newscrolly-py)*(y-py)<0||(self.newscrollx-px)*(x-px)<0)&&self.cancelScroll(),0==self.opt.bouncescroll&&(y<0?y=0:y>self.page.maxh&&(y=self.page.maxh),x<0?x=0:x>self.page.maxw&&(x=self.page.maxw)),(!self.scrollrunning||x!=self.newscrollx||y!=self.newscrolly)&&(self.newscrolly=y,self.newscrollx=x,self.newscrollspeed=spd||!1,!self.timer&&void(self.timer=setTimeout(function(){var top=self.getScrollTop(),lft=self.getScrollLeft(),dst={};dst.x=x-lft,dst.y=y-top,dst.px=lft,dst.py=top;var dd=Math.round(Math.sqrt(Math.pow(dst.x,2)+Math.pow(dst.y,2))),ms=self.newscrollspeed&&self.newscrollspeed>1?self.newscrollspeed:self.getTransitionSpeed(dd);if(self.newscrollspeed&&self.newscrollspeed<=1&&(ms*=self.newscrollspeed),self.prepareTransition(ms,!0),self.timerscroll&&self.timerscroll.tm&&clearInterval(self.timerscroll.tm),ms>0){if(!self.scrollrunning&&self.onscrollstart){var info={type:"scrollstart",current:{x:lft,y:top},request:{x:x,y:y},end:{x:self.newscrollx,y:self.newscrolly},speed:ms};self.onscrollstart.call(self,info)}cap.transitionend?self.scrollendtrapped||(self.scrollendtrapped=!0,self.bind(self.doc,cap.transitionend,self.onScrollTransitionEnd,!1)):(self.scrollendtrapped&&clearTimeout(self.scrollendtrapped),self.scrollendtrapped=setTimeout(self.onScrollTransitionEnd,ms));var py=top,px=lft;self.timerscroll={bz:new BezierClass(py,self.newscrolly,ms,0,0,.58,1),bh:new BezierClass(px,self.newscrollx,ms,0,0,.58,1)},self.cursorfreezed||(self.timerscroll.tm=setInterval(function(){self.showCursor(self.getScrollTop(),self.getScrollLeft())},60))}self.synched("doScroll-set",function(){self.timer=0,self.scrollendtrapped&&(self.scrollrunning=!0),self.setScrollTop(self.newscrolly),self.setScrollLeft(self.newscrollx),self.scrollendtrapped||self.onScrollTransitionEnd()})},50)))},this.cancelScroll=function(){if(!self.scrollendtrapped)return!0;var py=self.getScrollTop(),px=self.getScrollLeft();return self.scrollrunning=!1,cap.transitionend||clearTimeout(cap.transitionend),self.scrollendtrapped=!1,self._unbind(self.doc[0],cap.transitionend,self.onScrollTransitionEnd),self.prepareTransition(0),self.setScrollTop(py),self.railh&&self.setScrollLeft(px),self.timerscroll&&self.timerscroll.tm&&clearInterval(self.timerscroll.tm),self.timerscroll=!1,self.cursorfreezed=!1,self.showCursor(py,px),self},this.onScrollTransitionEnd=function(){self.scrollendtrapped&&self._unbind(self.doc[0],cap.transitionend,self.onScrollTransitionEnd),self.scrollendtrapped=!1,self.prepareTransition(0),self.timerscroll&&self.timerscroll.tm&&clearInterval(self.timerscroll.tm),self.timerscroll=!1;var py=self.getScrollTop(),px=self.getScrollLeft();return self.setScrollTop(py),self.railh&&self.setScrollLeft(px),self.noticeCursor(!1,py,px),self.cursorfreezed=!1,py<0?py=0:py>self.page.maxh&&(py=self.page.maxh),px<0?px=0:px>self.page.maxw&&(px=self.page.maxw),py!=self.newscrolly||px!=self.newscrollx?self.doScrollPos(px,py,self.opt.snapbackspeed):(self.onscrollend&&self.scrollrunning&&self.triggerScrollEnd(),void(self.scrollrunning=!1))}):(this.doScrollLeft=function(x,spd){var y=self.scrollrunning?self.newscrolly:self.getScrollTop();self.doScrollPos(x,y,spd)},this.doScrollTop=function(y,spd){var x=self.scrollrunning?self.newscrollx:self.getScrollLeft();self.doScrollPos(x,y,spd)},this.doScrollPos=function(x,y,spd){function scrolling(){if(self.cancelAnimationFrame)return!0;if(self.scrollrunning=!0,sync=1-sync)return self.timer=setAnimationFrame(scrolling)||1;var sx,sy,done=0,sc=sy=self.getScrollTop();if(self.dst.ay){sc=self.bzscroll?self.dst.py+self.bzscroll.getNow()*self.dst.ay:self.newscrolly;var dr=sc-sy;(dr<0&&sc<self.newscrolly||dr>0&&sc>self.newscrolly)&&(sc=self.newscrolly),self.setScrollTop(sc),sc==self.newscrolly&&(done=1)}else done=1;var scx=sx=self.getScrollLeft();if(self.dst.ax){scx=self.bzscroll?self.dst.px+self.bzscroll.getNow()*self.dst.ax:self.newscrollx;var dr=scx-sx;(dr<0&&scx<self.newscrollx||dr>0&&scx>self.newscrollx)&&(scx=self.newscrollx),self.setScrollLeft(scx),scx==self.newscrollx&&(done+=1)}else done+=1;2==done?(self.timer=0,self.cursorfreezed=!1,self.bzscroll=!1,self.scrollrunning=!1,sc<0?sc=0:sc>self.page.maxh&&(sc=Math.max(0,self.page.maxh)),scx<0?scx=0:scx>self.page.maxw&&(scx=self.page.maxw),scx!=self.newscrollx||sc!=self.newscrolly?self.doScrollPos(scx,sc):self.onscrollend&&self.triggerScrollEnd()):self.timer=setAnimationFrame(scrolling)||1}var y=void 0===y||y===!1?self.getScrollTop(!0):y;if(self.timer&&self.newscrolly==y&&self.newscrollx==x)return!0;self.timer&&clearAnimationFrame(self.timer),self.timer=0;var py=self.getScrollTop(),px=self.getScrollLeft();((self.newscrolly-py)*(y-py)<0||(self.newscrollx-px)*(x-px)<0)&&self.cancelScroll(),self.newscrolly=y,self.newscrollx=x,self.bouncescroll&&self.rail.visibility||(self.newscrolly<0?self.newscrolly=0:self.newscrolly>self.page.maxh&&(self.newscrolly=self.page.maxh)),self.bouncescroll&&self.railh.visibility||(self.newscrollx<0?self.newscrollx=0:self.newscrollx>self.page.maxw&&(self.newscrollx=self.page.maxw)),self.dst={},self.dst.x=x-px,self.dst.y=y-py,
self.dst.px=px,self.dst.py=py;var dst=Math.round(Math.sqrt(Math.pow(self.dst.x,2)+Math.pow(self.dst.y,2)));self.dst.ax=self.dst.x/dst,self.dst.ay=self.dst.y/dst;var pa=0,pe=dst;0==self.dst.x?(pa=py,pe=y,self.dst.ay=1,self.dst.py=0):0==self.dst.y&&(pa=px,pe=x,self.dst.ax=1,self.dst.px=0);var ms=self.getTransitionSpeed(dst);if(spd&&spd<=1&&(ms*=spd),ms>0?self.bzscroll=self.bzscroll?self.bzscroll.update(pe,ms):new BezierClass(pa,pe,ms,0,1,0,1):self.bzscroll=!1,!self.timer){(py==self.page.maxh&&y>=self.page.maxh||px==self.page.maxw&&x>=self.page.maxw)&&self.checkContentSize();var sync=1;if(self.cancelAnimationFrame=!1,self.timer=1,self.onscrollstart&&!self.scrollrunning){var info={type:"scrollstart",current:{x:px,y:py},request:{x:x,y:y},end:{x:self.newscrollx,y:self.newscrolly},speed:ms};self.onscrollstart.call(self,info)}scrolling(),(py==self.page.maxh&&y>=py||px==self.page.maxw&&x>=px)&&self.checkContentSize(),self.noticeCursor()}},this.cancelScroll=function(){return self.timer&&clearAnimationFrame(self.timer),self.timer=0,self.bzscroll=!1,self.scrollrunning=!1,self}):(this.doScrollLeft=function(x,spd){var y=self.getScrollTop();self.doScrollPos(x,y,spd)},this.doScrollTop=function(y,spd){var x=self.getScrollLeft();self.doScrollPos(x,y,spd)},this.doScrollPos=function(x,y,spd){var nx=x>self.page.maxw?self.page.maxw:x;nx<0&&(nx=0);var ny=y>self.page.maxh?self.page.maxh:y;ny<0&&(ny=0),self.synched("scroll",function(){self.setScrollTop(ny),self.setScrollLeft(nx)})},this.cancelScroll=function(){}),this.doScrollBy=function(stp,relative){var ny=0;if(relative)ny=Math.floor((self.scroll.y-stp)*self.scrollratio.y);else{var sy=self.timer?self.newscrolly:self.getScrollTop(!0);ny=sy-stp}if(self.bouncescroll){var haf=Math.round(self.view.h/2);ny<-haf?ny=-haf:ny>self.page.maxh+haf&&(ny=self.page.maxh+haf)}self.cursorfreezed=!1;var py=self.getScrollTop(!0);return ny<0&&py<=0?self.noticeCursor():ny>self.page.maxh&&py>=self.page.maxh?(self.checkContentSize(),self.noticeCursor()):void self.doScrollTop(ny)},this.doScrollLeftBy=function(stp,relative){var nx=0;if(relative)nx=Math.floor((self.scroll.x-stp)*self.scrollratio.x);else{var sx=self.timer?self.newscrollx:self.getScrollLeft(!0);nx=sx-stp}if(self.bouncescroll){var haf=Math.round(self.view.w/2);nx<-haf?nx=-haf:nx>self.page.maxw+haf&&(nx=self.page.maxw+haf)}self.cursorfreezed=!1;var px=self.getScrollLeft(!0);return nx<0&&px<=0?self.noticeCursor():nx>self.page.maxw&&px>=self.page.maxw?self.noticeCursor():void self.doScrollLeft(nx)},this.doScrollTo=function(pos,relative){var ny=relative?Math.round(pos*self.scrollratio.y):pos;ny<0?ny=0:ny>self.page.maxh&&(ny=self.page.maxh),self.cursorfreezed=!1,self.doScrollTop(pos)},this.checkContentSize=function(){var pg=self.getContentSize();pg.h==self.page.h&&pg.w==self.page.w||self.resize(!1,pg)},self.onscroll=function(e){self.rail.drag||self.cursorfreezed||self.synched("scroll",function(){self.scroll.y=Math.round(self.getScrollTop()*(1/self.scrollratio.y)),self.railh&&(self.scroll.x=Math.round(self.getScrollLeft()*(1/self.scrollratio.x))),self.noticeCursor()})},self.bind(self.docscroll,"scroll",self.onscroll),this.doZoomIn=function(e){if(!self.zoomactive){self.zoomactive=!0,self.zoomrestore={style:{}};var lst=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],win=self.win[0].style;for(var a in lst){var pp=lst[a];self.zoomrestore.style[pp]=void 0!==win[pp]?win[pp]:""}self.zoomrestore.style.width=self.win.css("width"),self.zoomrestore.style.height=self.win.css("height"),self.zoomrestore.padding={w:self.win.outerWidth()-self.win.width(),h:self.win.outerHeight()-self.win.height()},cap.isios4&&(self.zoomrestore.scrollTop=$(window).scrollTop(),$(window).scrollTop(0)),self.win.css({position:cap.isios4?"absolute":"fixed",top:0,left:0,zIndex:globalmaxzindex+100,margin:0});var bkg=self.win.css("backgroundColor");return(""==bkg||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(bkg))&&self.win.css("backgroundColor","#fff"),self.rail.css({zIndex:globalmaxzindex+101}),self.zoom.css({zIndex:globalmaxzindex+102}),self.zoom.css("backgroundPosition","0px -18px"),self.resizeZoom(),self.onzoomin&&self.onzoomin.call(self),self.cancelEvent(e)}},this.doZoomOut=function(e){if(self.zoomactive)return self.zoomactive=!1,self.win.css("margin",""),self.win.css(self.zoomrestore.style),cap.isios4&&$(window).scrollTop(self.zoomrestore.scrollTop),self.rail.css({"z-index":self.zindex}),self.zoom.css({"z-index":self.zindex}),self.zoomrestore=!1,self.zoom.css("backgroundPosition","0px 0px"),self.onResize(),self.onzoomout&&self.onzoomout.call(self),self.cancelEvent(e)},this.doZoom=function(e){return self.zoomactive?self.doZoomOut(e):self.doZoomIn(e)},this.resizeZoom=function(){if(self.zoomactive){var py=self.getScrollTop();self.win.css({width:$(window).width()-self.zoomrestore.padding.w+"px",height:$(window).height()-self.zoomrestore.padding.h+"px"}),self.onResize(),self.setScrollTop(Math.min(self.page.maxh,py))}},this.init(),$.nicescroll.push(this)},ScrollMomentumClass2D=function(nc){var self=this;this.nc=nc,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return+new Date},this.reset=function(px,py){self.stop();var now=self.time();self.steptime=0,self.lasttime=now,self.speedx=0,self.speedy=0,self.lastx=px,self.lasty=py,self.lastscrollx=-1,self.lastscrolly=-1},this.update=function(px,py){var now=self.time();self.steptime=now-self.lasttime,self.lasttime=now;var dy=py-self.lasty,dx=px-self.lastx,sy=self.nc.getScrollTop(),sx=self.nc.getScrollLeft(),newy=sy+dy,newx=sx+dx;self.snapx=newx<0||newx>self.nc.page.maxw,self.snapy=newy<0||newy>self.nc.page.maxh,self.speedx=dx,self.speedy=dy,self.lastx=px,self.lasty=py},this.stop=function(){self.nc.unsynched("domomentum2d"),self.timer&&clearTimeout(self.timer),self.timer=0,self.lastscrollx=-1,self.lastscrolly=-1},this.doSnapy=function(nx,ny){var snap=!1;ny<0?(ny=0,snap=!0):ny>self.nc.page.maxh&&(ny=self.nc.page.maxh,snap=!0),nx<0?(nx=0,snap=!0):nx>self.nc.page.maxw&&(nx=self.nc.page.maxw,snap=!0),snap?self.nc.doScrollPos(nx,ny,self.nc.opt.snapbackspeed):self.nc.triggerScrollEnd()},this.doMomentum=function(gp){var t=self.time(),l=gp?t+gp:self.lasttime,sl=self.nc.getScrollLeft(),st=self.nc.getScrollTop(),pageh=self.nc.page.maxh,pagew=self.nc.page.maxw;self.speedx=pagew>0?Math.min(60,self.speedx):0,self.speedy=pageh>0?Math.min(60,self.speedy):0;var chk=l&&t-l<=60;(st<0||st>pageh||sl<0||sl>pagew)&&(chk=!1);var sy=!(!self.speedy||!chk)&&self.speedy,sx=!(!self.speedx||!chk)&&self.speedx;if(sy||sx){var tm=Math.max(16,self.steptime);if(tm>50){var xm=tm/50;self.speedx*=xm,self.speedy*=xm,tm=50}self.demulxy=0,self.lastscrollx=self.nc.getScrollLeft(),self.chkx=self.lastscrollx,self.lastscrolly=self.nc.getScrollTop(),self.chky=self.lastscrolly;var nx=self.lastscrollx,ny=self.lastscrolly,onscroll=function(){var df=self.time()-t>600?.04:.02;self.speedx&&(nx=Math.floor(self.lastscrollx-self.speedx*(1-self.demulxy)),self.lastscrollx=nx,(nx<0||nx>pagew)&&(df=.1)),self.speedy&&(ny=Math.floor(self.lastscrolly-self.speedy*(1-self.demulxy)),self.lastscrolly=ny,(ny<0||ny>pageh)&&(df=.1)),self.demulxy=Math.min(1,self.demulxy+df),self.nc.synched("domomentum2d",function(){if(self.speedx){self.nc.getScrollLeft();self.chkx=nx,self.nc.setScrollLeft(nx)}if(self.speedy){self.nc.getScrollTop();self.chky=ny,self.nc.setScrollTop(ny)}self.timer||(self.nc.hideCursor(),self.doSnapy(nx,ny))}),self.demulxy<1?self.timer=setTimeout(onscroll,tm):(self.stop(),self.nc.hideCursor(),self.doSnapy(nx,ny))};onscroll()}else self.doSnapy(self.nc.getScrollLeft(),self.nc.getScrollTop())}},_scrollTop=jQuery.fn.scrollTop;jQuery.cssHooks.pageYOffset={get:function(elem,computed,extra){var nice=$.data(elem,"__nicescroll")||!1;return nice&&nice.ishwscroll?nice.getScrollTop():_scrollTop.call(elem)},set:function(elem,value){var nice=$.data(elem,"__nicescroll")||!1;return nice&&nice.ishwscroll?nice.setScrollTop(parseInt(value)):_scrollTop.call(elem,value),this}},jQuery.fn.scrollTop=function(value){if(void 0===value){var nice=!!this[0]&&($.data(this[0],"__nicescroll")||!1);return nice&&nice.ishwscroll?nice.getScrollTop():_scrollTop.call(this)}return this.each(function(){var nice=$.data(this,"__nicescroll")||!1;nice&&nice.ishwscroll?nice.setScrollTop(parseInt(value)):_scrollTop.call($(this),value)})};var _scrollLeft=jQuery.fn.scrollLeft;$.cssHooks.pageXOffset={get:function(elem,computed,extra){var nice=$.data(elem,"__nicescroll")||!1;return nice&&nice.ishwscroll?nice.getScrollLeft():_scrollLeft.call(elem)},set:function(elem,value){var nice=$.data(elem,"__nicescroll")||!1;return nice&&nice.ishwscroll?nice.setScrollLeft(parseInt(value)):_scrollLeft.call(elem,value),this}},jQuery.fn.scrollLeft=function(value){if(void 0===value){var nice=!!this[0]&&($.data(this[0],"__nicescroll")||!1);return nice&&nice.ishwscroll?nice.getScrollLeft():_scrollLeft.call(this)}return this.each(function(){var nice=$.data(this,"__nicescroll")||!1;nice&&nice.ishwscroll?nice.setScrollLeft(parseInt(value)):_scrollLeft.call($(this),value)})};var NiceScrollArray=function(doms){var self=this;if(this.length=0,this.name="nicescrollarray",this.each=function(fn){return $.each(self,fn),self},this.push=function(nice){self[self.length]=nice,self.length++},this.eq=function(idx){return self[idx]},doms)for(var a=0;a<doms.length;a++){var nice=$.data(doms[a],"__nicescroll")||!1;nice&&(this[this.length]=nice,this.length++)}return this};mplex(NiceScrollArray.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,n){e[n]=function(){var args=arguments;return this.each(function(){this[n].apply(this,args)})}}),jQuery.fn.getNiceScroll=function(index){return void 0===index?new NiceScrollArray(this):this[index]&&$.data(this[index],"__nicescroll")||!1},jQuery.expr[":"].nicescroll=function(a){return void 0!==$.data(a,"__nicescroll")},$.fn.niceScroll=function(wrapper,opt){void 0!==opt||"object"!=typeof wrapper||"jquery"in wrapper||(opt=wrapper,wrapper=!1),opt=$.extend({},opt);var ret=new NiceScrollArray;void 0===opt&&(opt={}),wrapper&&(opt.doc=$(wrapper),opt.win=$(this));var docundef=!("doc"in opt);return docundef||"win"in opt||(opt.win=$(this)),this.each(function(){var nice=$(this).data("__nicescroll")||!1;nice||(opt.doc=docundef?$(this):opt.doc,nice=new NiceScrollClass(opt,$(this)),$(this).data("__nicescroll",nice)),ret.push(nice)}),1==ret.length?ret[0]:ret},window.NiceScroll={getjQuery:function(){return jQuery}},$.nicescroll||($.nicescroll=new NiceScrollArray,$.nicescroll.options=_globaloptions)}),function(factory){"use strict";"function"==typeof define&&define.amd?define(["jquery"],factory):"undefined"!=typeof module&&module.exports?module.exports=factory(require("jquery")):factory(jQuery)}(function($){"use strict";function isWin(elem){return!elem.nodeName||$.inArray(elem.nodeName.toLowerCase(),["iframe","#document","html","body"])!==-1}function both(val){return $.isFunction(val)||$.isPlainObject(val)?val:{top:val,left:val}}var $scrollTo=$.scrollTo=function(target,duration,settings){return $(window).scrollTo(target,duration,settings)};return $scrollTo.defaults={axis:"xy",duration:0,limit:!0},$.fn.scrollTo=function(target,duration,settings){"object"==typeof duration&&(settings=duration,duration=0),"function"==typeof settings&&(settings={onAfter:settings}),"max"===target&&(target=9e9),settings=$.extend({},$scrollTo.defaults,settings),duration=duration||settings.duration;var queue=settings.queue&&settings.axis.length>1;return queue&&(duration/=2),settings.offset=both(settings.offset),settings.over=both(settings.over),this.each(function(){function animate(callback){var opts=$.extend({},settings,{queue:!0,duration:duration,complete:callback&&function(){callback.call(elem,targ,settings)}});$elem.animate(attr,opts)}if(null!==target){var toff,win=isWin(this),elem=win?this.contentWindow||window:this,$elem=$(elem),targ=target,attr={};switch(typeof targ){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(targ)){targ=both(targ);break}targ=win?$(targ):$(targ,elem);case"object":if(0===targ.length)return;(targ.is||targ.style)&&(toff=(targ=$(targ)).offset())}var offset=$.isFunction(settings.offset)&&settings.offset(elem,targ)||settings.offset;$.each(settings.axis.split(""),function(i,axis){var Pos="x"===axis?"Left":"Top",pos=Pos.toLowerCase(),key="scroll"+Pos,prev=$elem[key](),max=$scrollTo.max(elem,axis);if(toff)attr[key]=toff[pos]+(win?0:prev-$elem.offset()[pos]),settings.margin&&(attr[key]-=parseInt(targ.css("margin"+Pos),10)||0,attr[key]-=parseInt(targ.css("border"+Pos+"Width"),10)||0),attr[key]+=offset[pos]||0,settings.over[pos]&&(attr[key]+=targ["x"===axis?"width":"height"]()*settings.over[pos]);else{var val=targ[pos];attr[key]=val.slice&&"%"===val.slice(-1)?parseFloat(val)/100*max:val}settings.limit&&/^\d+$/.test(attr[key])&&(attr[key]=attr[key]<=0?0:Math.min(attr[key],max)),!i&&settings.axis.length>1&&(prev===attr[key]?attr={}:queue&&(animate(settings.onAfterFirst),attr={}))}),animate(settings.onAfter)}})},$scrollTo.max=function(elem,axis){var Dim="x"===axis?"Width":"Height",scroll="scroll"+Dim;if(!isWin(elem))return elem[scroll]-$(elem)[Dim.toLowerCase()]();var size="client"+Dim,doc=elem.ownerDocument||elem.document,html=doc.documentElement,body=doc.body;return Math.max(html[scroll],body[scroll])-Math.min(html[size],body[size])},$.Tween.propHooks.scrollLeft=$.Tween.propHooks.scrollTop={get:function(t){return $(t.elem)[t.prop]()},set:function(t){var curr=this.get(t);if(t.options.interrupt&&t._last&&t._last!==curr)return $(t.elem).stop();var next=Math.round(t.now);curr!==next&&($(t.elem)[t.prop](next),t._last=this.get(t))}},$scrollTo}),function(root,factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof exports?module.exports=factory(require("jquery")):factory(root.jQuery)}(this,function($){function getVendorPropertyName(prop){if(prop in div.style)return prop;for(var prefixes=["Moz","Webkit","O","ms"],prop_=prop.charAt(0).toUpperCase()+prop.substr(1),i=0;i<prefixes.length;++i){var vendorProp=prefixes[i]+prop_;if(vendorProp in div.style)return vendorProp}}function checkTransform3dSupport(){return div.style[support.transform]="",div.style[support.transform]="rotateY(90deg)",""!==div.style[support.transform]}function Transform(str){return"string"==typeof str&&this.parse(str),this}function callOrQueue(self,queue,fn){queue===!0?self.queue(fn):queue?self.queue(queue,fn):self.each(function(){fn.call(this)})}function getProperties(props){var re=[];return $.each(props,function(key){key=$.camelCase(key),key=$.transit.propertyMap[key]||$.cssProps[key]||key,key=uncamel(key),support[key]&&(key=uncamel(support[key])),$.inArray(key,re)===-1&&re.push(key)}),re}function getTransition(properties,duration,easing,delay){var props=getProperties(properties);$.cssEase[easing]&&(easing=$.cssEase[easing]);var attribs=""+toMS(duration)+" "+easing;parseInt(delay,10)>0&&(attribs+=" "+toMS(delay));var transitions=[];return $.each(props,function(i,name){transitions.push(name+" "+attribs)}),transitions.join(", ")}function registerCssHook(prop,isPixels){isPixels||($.cssNumber[prop]=!0),$.transit.propertyMap[prop]=support.transform,$.cssHooks[prop]={get:function(elem){var t=$(elem).css("transit:transform");return t.get(prop)},set:function(elem,value){var t=$(elem).css("transit:transform");t.setFromString(prop,value),$(elem).css({"transit:transform":t})}}}function uncamel(str){return str.replace(/([A-Z])/g,function(letter){return"-"+letter.toLowerCase()})}function unit(i,units){return"string"!=typeof i||i.match(/^[\-0-9\.]+$/)?""+i+units:i}function toMS(duration){var i=duration;return"string"!=typeof i||i.match(/^[\-0-9\.]+/)||(i=$.fx.speeds[i]||$.fx.speeds._default),unit(i,"ms")}$.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var div=document.createElement("div"),support={},isChrome=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;support.transition=getVendorPropertyName("transition"),support.transitionDelay=getVendorPropertyName("transitionDelay"),support.transform=getVendorPropertyName("transform"),support.transformOrigin=getVendorPropertyName("transformOrigin"),support.filter=getVendorPropertyName("Filter"),support.transform3d=checkTransform3dSupport();var eventNames={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},transitionEnd=support.transitionEnd=eventNames[support.transition]||null;for(var key in support)support.hasOwnProperty(key)&&"undefined"==typeof $.support[key]&&($.support[key]=support[key]);return div=null,$.cssEase={_default:"ease",in:"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},$.cssHooks["transit:transform"]={get:function(elem){return $(elem).data("transform")||new Transform},set:function(elem,v){var value=v;value instanceof Transform||(value=new Transform(value)),"WebkitTransform"!==support.transform||isChrome?elem.style[support.transform]=value.toString():elem.style[support.transform]=value.toString(!0),$(elem).data("transform",value)}},$.cssHooks.transform={set:$.cssHooks["transit:transform"].set},$.cssHooks.filter={get:function(elem){return elem.style[support.filter]},set:function(elem,value){elem.style[support.filter]=value}},$.fn.jquery<"1.8"&&($.cssHooks.transformOrigin={get:function(elem){return elem.style[support.transformOrigin]},set:function(elem,value){elem.style[support.transformOrigin]=value}},$.cssHooks.transition={get:function(elem){return elem.style[support.transition]},set:function(elem,value){elem.style[support.transition]=value}}),registerCssHook("scale"),registerCssHook("scaleX"),registerCssHook("scaleY"),registerCssHook("translate"),registerCssHook("rotate"),registerCssHook("rotateX"),registerCssHook("rotateY"),registerCssHook("rotate3d"),registerCssHook("perspective"),registerCssHook("skewX"),registerCssHook("skewY"),registerCssHook("x",!0),registerCssHook("y",!0),Transform.prototype={setFromString:function(prop,val){var args="string"==typeof val?val.split(","):val.constructor===Array?val:[val];args.unshift(prop),Transform.prototype.set.apply(this,args)},set:function(prop){var args=Array.prototype.slice.apply(arguments,[1]);this.setter[prop]?this.setter[prop].apply(this,args):this[prop]=args.join(",")},get:function(prop){return this.getter[prop]?this.getter[prop].apply(this):this[prop]||0},setter:{rotate:function(theta){this.rotate=unit(theta,"deg")},rotateX:function(theta){this.rotateX=unit(theta,"deg")},rotateY:function(theta){this.rotateY=unit(theta,"deg")},scale:function(x,y){void 0===y&&(y=x),this.scale=x+","+y},skewX:function(x){this.skewX=unit(x,"deg")},skewY:function(y){this.skewY=unit(y,"deg")},perspective:function(dist){this.perspective=unit(dist,"px")},x:function(x){this.set("translate",x,null)},y:function(y){this.set("translate",null,y)},translate:function(x,y){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==x&&void 0!==x&&(this._translateX=unit(x,"px")),null!==y&&void 0!==y&&(this._translateY=unit(y,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var s=(this.scale||"1,1").split(",");return s[0]&&(s[0]=parseFloat(s[0])),s[1]&&(s[1]=parseFloat(s[1])),s[0]===s[1]?s[0]:s},rotate3d:function(){for(var s=(this.rotate3d||"0,0,0,0deg").split(","),i=0;i<=3;++i)s[i]&&(s[i]=parseFloat(s[i]));return s[3]&&(s[3]=unit(s[3],"deg")),s}},parse:function(str){var self=this;str.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(x,prop,val){self.setFromString(prop,val)})},toString:function(use3d){var re=[];for(var i in this)if(this.hasOwnProperty(i)){if(!support.transform3d&&("rotateX"===i||"rotateY"===i||"perspective"===i||"transformOrigin"===i))continue;"_"!==i[0]&&(use3d&&"scale"===i?re.push(i+"3d("+this[i]+",1)"):use3d&&"translate"===i?re.push(i+"3d("+this[i]+",0)"):re.push(i+"("+this[i]+")"))}return re.join(" ")}},$.fn.transition=$.fn.transit=function(properties,duration,easing,callback){var self=this,delay=0,queue=!0,theseProperties=$.extend(!0,{},properties);"function"==typeof duration&&(callback=duration,duration=void 0),"object"==typeof duration&&(easing=duration.easing,delay=duration.delay||0,queue="undefined"==typeof duration.queue||duration.queue,callback=duration.complete,duration=duration.duration),"function"==typeof easing&&(callback=easing,easing=void 0),"undefined"!=typeof theseProperties.easing&&(easing=theseProperties.easing,delete theseProperties.easing),"undefined"!=typeof theseProperties.duration&&(duration=theseProperties.duration,delete theseProperties.duration),"undefined"!=typeof theseProperties.complete&&(callback=theseProperties.complete,delete theseProperties.complete),"undefined"!=typeof theseProperties.queue&&(queue=theseProperties.queue,delete theseProperties.queue),"undefined"!=typeof theseProperties.delay&&(delay=theseProperties.delay,delete theseProperties.delay),"undefined"==typeof duration&&(duration=$.fx.speeds._default),"undefined"==typeof easing&&(easing=$.cssEase._default),duration=toMS(duration);var transitionValue=getTransition(theseProperties,duration,easing,delay),work=$.transit.enabled&&support.transition,i=work?parseInt(duration,10)+parseInt(delay,10):0;if(0===i){var fn=function(next){self.css(theseProperties),callback&&callback.apply(self),next&&next()};return callOrQueue(self,queue,fn),self}var oldTransitions={},run=function(nextCall){var bound=!1,cb=function(){bound&&self.unbind(transitionEnd,cb),i>0&&self.each(function(){this.style[support.transition]=oldTransitions[this]||null}),"function"==typeof callback&&callback.apply(self),"function"==typeof nextCall&&nextCall()};i>0&&transitionEnd&&$.transit.useTransitionEnd?(bound=!0,self.bind(transitionEnd,cb)):window.setTimeout(cb,i),self.each(function(){i>0&&(this.style[support.transition]=transitionValue),$(this).css(theseProperties)})},deferredRun=function(next){this.offsetWidth=this.offsetWidth,run(next)};return callOrQueue(self,queue,deferredRun),this},$.transit.getTransitionValue=getTransition,$}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t=0,i=Array.prototype.slice;e.cleanData=function(t){return function(i){var s,n,a;for(a=0;null!=(n=i[a]);a++)try{s=e._data(n,"events"),s&&s.remove&&e(n).triggerHandler("remove")}catch(o){}t(i)}}(e.cleanData),e.widget=function(t,i,s){var n,a,o,r,h={},l=t.split(".")[0];return t=t.split(".")[1],n=l+"-"+t,s||(s=i,i=e.Widget),e.expr[":"][n.toLowerCase()]=function(t){return!!e.data(t,n)},e[l]=e[l]||{},a=e[l][t],o=e[l][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new o(e,t)},e.extend(o,a,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),r=new i,r.options=e.widget.extend({},r.options),e.each(s,function(t,s){return e.isFunction(s)?void(h[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},n=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,a=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=a,t}}()):void(h[t]=s)}),o.prototype=e.widget.extend(r,{widgetEventPrefix:a?r.widgetEventPrefix||t:t},h,{constructor:o,namespace:l,widgetName:t,widgetFullName:n}),a?(e.each(a._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete a._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var s,n,a=i.call(arguments,1),o=0,r=a.length;r>o;o++)for(s in a[o])n=a[o][s],a[o].hasOwnProperty(s)&&void 0!==n&&(t[s]=e.isPlainObject(n)?e.isPlainObject(t[s])?e.widget.extend({},t[s],n):e.widget.extend({},n):n);return t},e.widget.bridge=function(t,s){var n=s.prototype.widgetFullName||t;e.fn[t]=function(a){var o="string"==typeof a,r=i.call(arguments,1),h=this;return a=!o&&r.length?e.widget.extend.apply(null,[a].concat(r)):a,o?this.each(function(){var i,s=e.data(this,n);return"instance"===a?(h=s,!1):s?e.isFunction(s[a])&&"_"!==a.charAt(0)?(i=s[a].apply(s,r),i!==s&&void 0!==i?(h=i&&i.jquery?h.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+a+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var t=e.data(this,n);t?(t.option(a||{}),t._init&&t._init()):e.data(this,n,new s(a,this))}),h}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(i,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=t++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,a,o=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(o={},s=t.split("."),t=s.shift(),s.length){for(n=o[t]=e.widget.extend({},this.options[t]),a=0;s.length-1>a;a++)n[s[a]]=n[s[a]]||{},n=n[s[a]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];o[t]=i}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,s){var n,a=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,o){function r(){return t||a.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof o?a[o]:o).apply(a,arguments):void 0}"string"!=typeof o&&(r.guid=o.guid=o.guid||r.guid||e.guid++);var h=s.match(/^([\w:-]*)\s*(.*)$/),l=h[1]+a.eventNamespace,u=h[2];u?n.delegate(u,l,r):i.bind(l,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?s[e]:e).apply(s,arguments)}var s=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,s){var n,a,o=this.options[t];if(s=s||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],a=i.originalEvent)for(n in a)n in i||(i[n]=a[n]);return this.element.trigger(i,s),!(e.isFunction(o)&&o.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,a){"string"==typeof n&&(n={effect:n});var o,r=n?n===!0||"number"==typeof n?i:n.effect||i:t;n=n||{},"number"==typeof n&&(n={duration:n}),o=!e.isEmptyObject(n),n.complete=a,n.delay&&s.delay(n.delay),o&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,a):s.queue(function(i){e(this)[t](),a&&a.call(s[0]),i()})}}),e.widget}),function($){"use strict";$.widget("aerolab.midnight",{options:{headerClass:"midnightHeader",innerClass:"midnightInner",defaultClass:"default",classPrefix:""},_headers:{},_headerInfo:{top:0,height:0},_$sections:[],_sections:[],_scrollTop:0,_documentHeight:0,_transformMode:!1,refresh:function(){this._headerInfo={top:0,height:this.element.outerHeight()},this._$sections=$("[data-midnight]"),this._sections=[],this._setupHeaders(),this.recalculate()},_create:function(){var context=this;this._scrollTop=window.pageYOffset||document.documentElement.scrollTop,this._documentHeight=$(document).height(),this._headers={},this._transformMode=this._getSupportedTransform(),this.refresh(),setInterval(function(){context._recalculateSections()},1e3),context.recalculate(),$(window).resize(function(){context.recalculate()}),this._updateHeadersLoop()},recalculate:function(){this._recalculateSections(),this._updateHeaderHeight(),this._recalculateHeaders(),this._updateHeaders()},_getSupportedTransform:function(){for(var prefixes=["transform","WebkitTransform","MozTransform","OTransform","msTransform"],ix=0;ix<prefixes.length;ix++)if(void 0!==document.createElement("div").style[prefixes[ix]])return prefixes[ix];return!1},_getContainerHeight:function(){var $customHeaders=this.element.find("> ."+this.options.headerClass),maxHeight=0,height=0,context=this;return $customHeaders.length?$customHeaders.each(function(){var $header=$(this),$inner=$header.find("> ."+context.options.innerClass);$inner.length?($inner.css("bottom","auto").css("overflow","auto"),height=$inner.outerHeight(),$inner.css("bottom","0")):($header.css("bottom","auto"),height=$header.outerHeight(),$header.css("bottom","0")),maxHeight=height>maxHeight?height:maxHeight;
}):maxHeight=height=this.element.outerHeight(),maxHeight},_setupHeaders:function(){var context=this;this._headers[this.options.defaultClass]={},this._$sections.each(function(){var $section=$(this),headerClass=$section.data("midnight");"string"==typeof headerClass&&(headerClass=headerClass.trim(),""!==headerClass&&(context._headers[headerClass]={}))});({top:this.element.css("padding-top"),right:this.element.css("padding-right"),bottom:this.element.css("padding-bottom"),left:this.element.css("padding-left")});this.element.css({position:"fixed",top:0,left:0,right:0,overflow:"hidden"}),this._updateHeaderHeight();var $customHeaders=this.element.find("> ."+this.options.headerClass);$customHeaders.length?$customHeaders.filter("."+this.options.defaultClass).length||$customHeaders.filter("."+this.options.headerClass+":first").clone(!0,!0).attr("class",this.options.headerClass+" "+this.options.defaultClass):this.element.wrapInner('<div class="'+this.options.headerClass+" "+this.options.defaultClass+'"></div>');var $customHeaders=this.element.find("> ."+this.options.headerClass),$defaultHeader=$customHeaders.filter("."+this.options.defaultClass).clone(!0,!0);for(var headerClass in this._headers)if(this._headers.hasOwnProperty(headerClass)&&"undefined"==typeof this._headers[headerClass].element){var $existingHeader=$customHeaders.filter("."+headerClass);$existingHeader.length?this._headers[headerClass].element=$existingHeader:this._headers[headerClass].element=$defaultHeader.clone(!0,!0).removeClass(this.options.defaultClass).addClass(headerClass).appendTo(this.element);var resetStyles={position:"absolute",overflow:"hidden",top:0,left:0,right:0,bottom:0};this._headers[headerClass].element.css(resetStyles),this._transformMode!==!1&&this._headers[headerClass].element.css(this._transformMode,"translateZ(0)"),this._headers[headerClass].element.find("> ."+this.options.innerClass).length||this._headers[headerClass].element.wrapInner('<div class="'+this.options.innerClass+'"></div>'),this._headers[headerClass].inner=this._headers[headerClass].element.find("> ."+this.options.innerClass),this._headers[headerClass].inner.css(resetStyles),this._transformMode!==!1&&this._headers[headerClass].inner.css(this._transformMode,"translateZ(0)"),this._headers[headerClass].from="",this._headers[headerClass].progress=0}$customHeaders.each(function(){var $header=$(this),hasAnyClass=!1;for(var headerClass in context._headers)context._headers.hasOwnProperty(headerClass)&&$header.hasClass(headerClass)&&(hasAnyClass=!0);$header.find("> ."+context.options.innerClass).length||$header.wrapInner('<div class="'+context.options.innerClass+'"></div>'),hasAnyClass?$header.show():$header.hide()})},_recalculateHeaders:function(){this._scrollTop=window.pageYOffset||document.body.scrollTop||document.documentElement.scrollTop,this._scrollTop=Math.max(this._scrollTop,0),this._scrollTop=Math.min(this._scrollTop,this._documentHeight);var headerHeight=this._headerInfo.height,headerStart=this._scrollTop+this._headerInfo.top,headerEnd=headerStart+headerHeight;if("function"==typeof window.getComputedStyle){var style=window.getComputedStyle(this.element[0],null),top=0,transformY=0;if(this._transformMode!==!1&&"string"==typeof style.transform){var transformArray=style.transform.match(/(-?[0-9\.]+)/g);null!==transformArray&&transformArray.length>=6&&!isNaN(parseFloat(transformArray[5]))&&(transformY=parseFloat(transformArray[5]))}style.top.indexOf("px")>=0&&!isNaN(parseFloat(style.top))&&(top=parseFloat(style.top)),headerStart+=top+transformY,headerEnd+=top+transformY}for(var headerClass in this._headers)this._headers.hasOwnProperty(headerClass)&&(this._headers[headerClass].from="",this._headers[headerClass].progress=0);for(var ix=0;ix<this._sections.length;ix++)headerEnd>=this._sections[ix].start&&headerStart<=this._sections[ix].end&&(this._headers[this._sections[ix].className].visible=!0,headerStart>=this._sections[ix].start&&headerEnd<=this._sections[ix].end?(this._headers[this._sections[ix].className].from="top",this._headers[this._sections[ix].className].progress+=1):headerEnd>this._sections[ix].end&&headerStart<this._sections[ix].end?(this._headers[this._sections[ix].className].from="top",this._headers[this._sections[ix].className].progress=1-(headerEnd-this._sections[ix].end)/headerHeight):headerEnd>this._sections[ix].start&&headerStart<this._sections[ix].start&&("top"===this._headers[this._sections[ix].className].from?this._headers[this._sections[ix].className].progress+=(headerEnd-this._sections[ix].start)/headerHeight:(this._headers[this._sections[ix].className].from="bottom",this._headers[this._sections[ix].className].progress=(headerEnd-this._sections[ix].start)/headerHeight)))},_updateHeaders:function(){if("undefined"!=typeof this._headers[this.options.defaultClass]){var totalProgress=0,lastActiveClass="";for(var headerClass in this._headers)this._headers.hasOwnProperty(headerClass)&&""!==!this._headers[headerClass].from&&(totalProgress+=this._headers[headerClass].progress,lastActiveClass=headerClass);totalProgress<1&&(""===this._headers[this.options.defaultClass].from?(this._headers[this.options.defaultClass].from="top"===this._headers[lastActiveClass].from?"bottom":"top",this._headers[this.options.defaultClass].progress=1-totalProgress):this._headers[this.options.defaultClass].progress+=1-totalProgress);for(var ix in this._headers)if(this._headers.hasOwnProperty(ix)&&""!==!this._headers[ix].from){var offset=100*(1-this._headers[ix].progress);offset>=100&&(offset=110),offset<=-100&&(offset=-110),"top"===this._headers[ix].from?this._transformMode!==!1?(this._headers[ix].element[0].style[this._transformMode]="translateY(-"+offset+"%) translateZ(0)",this._headers[ix].inner[0].style[this._transformMode]="translateY(+"+offset+"%) translateZ(0)"):(this._headers[ix].element[0].style.top="-"+offset+"%",this._headers[ix].inner[0].style.top="+"+offset+"%"):this._transformMode!==!1?(this._headers[ix].element[0].style[this._transformMode]="translateY(+"+offset+"%) translateZ(0)",this._headers[ix].inner[0].style[this._transformMode]="translateY(-"+offset+"%) translateZ(0)"):(this._headers[ix].element[0].style.top="+"+offset+"%",this._headers[ix].inner[0].style.top="-"+offset+"%")}}},_recalculateSections:function(){this._documentHeight=$(document).height(),this._sections=[];for(var ix=0;ix<this._$sections.length;ix++){var $section=$(this._$sections[ix]);this._sections.push({element:$section,className:$section.data("midnight"),start:$section.offset().top,end:$section.offset().top+$section.outerHeight()})}},_updateHeaderHeight:function(){this._headerInfo.height=this._getContainerHeight(),this.element.css("height",this._headerInfo.height+"px")},_updateHeadersLoop:function(){var context=this;this._requestAnimationFrame(function(){context._updateHeadersLoop()}),this._recalculateHeaders(),this._updateHeaders()},_requestAnimationFrame:function(callback){var requestAnimationFrame=requestAnimationFrame||function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(callback){window.setTimeout(callback,1e3/60)}}();requestAnimationFrame(callback)}})}(jQuery),function(){"use strict";function Waypoint(options){if(!options)throw new Error("No options passed to Waypoint constructor");if(!options.element)throw new Error("No element option passed to Waypoint constructor");if(!options.handler)throw new Error("No handler option passed to Waypoint constructor");this.key="waypoint-"+keyCounter,this.options=Waypoint.Adapter.extend({},Waypoint.defaults,options),this.element=this.options.element,this.adapter=new Waypoint.Adapter(this.element),this.callback=options.handler,this.axis=this.options.horizontal?"horizontal":"vertical",this.enabled=this.options.enabled,this.triggerPoint=null,this.group=Waypoint.Group.findOrCreate({name:this.options.group,axis:this.axis}),this.context=Waypoint.Context.findOrCreateByElement(this.options.context),Waypoint.offsetAliases[this.options.offset]&&(this.options.offset=Waypoint.offsetAliases[this.options.offset]),this.group.add(this),this.context.add(this),allWaypoints[this.key]=this,keyCounter+=1}var keyCounter=0,allWaypoints={};Waypoint.prototype.queueTrigger=function(direction){this.group.queueTrigger(this,direction)},Waypoint.prototype.trigger=function(args){this.enabled&&this.callback&&this.callback.apply(this,args)},Waypoint.prototype.destroy=function(){this.context.remove(this),this.group.remove(this),delete allWaypoints[this.key]},Waypoint.prototype.disable=function(){return this.enabled=!1,this},Waypoint.prototype.enable=function(){return this.context.refresh(),this.enabled=!0,this},Waypoint.prototype.next=function(){return this.group.next(this)},Waypoint.prototype.previous=function(){return this.group.previous(this)},Waypoint.invokeAll=function(method){var allWaypointsArray=[];for(var waypointKey in allWaypoints)allWaypointsArray.push(allWaypoints[waypointKey]);for(var i=0,end=allWaypointsArray.length;i<end;i++)allWaypointsArray[i][method]()},Waypoint.destroyAll=function(){Waypoint.invokeAll("destroy")},Waypoint.disableAll=function(){Waypoint.invokeAll("disable")},Waypoint.enableAll=function(){Waypoint.Context.refreshAll();for(var waypointKey in allWaypoints)allWaypoints[waypointKey].enabled=!0;return this},Waypoint.refreshAll=function(){Waypoint.Context.refreshAll()},Waypoint.viewportHeight=function(){return window.innerHeight||document.documentElement.clientHeight},Waypoint.viewportWidth=function(){return document.documentElement.clientWidth},Waypoint.adapters=[],Waypoint.defaults={context:window,continuous:!0,enabled:!0,group:"default",horizontal:!1,offset:0},Waypoint.offsetAliases={"bottom-in-view":function(){return this.context.innerHeight()-this.adapter.outerHeight()},"right-in-view":function(){return this.context.innerWidth()-this.adapter.outerWidth()}},window.Waypoint=Waypoint}(),function(){"use strict";function requestAnimationFrameShim(callback){window.setTimeout(callback,1e3/60)}function Context(element){this.element=element,this.Adapter=Waypoint.Adapter,this.adapter=new this.Adapter(element),this.key="waypoint-context-"+keyCounter,this.didScroll=!1,this.didResize=!1,this.oldScroll={x:this.adapter.scrollLeft(),y:this.adapter.scrollTop()},this.waypoints={vertical:{},horizontal:{}},element.waypointContextKey=this.key,contexts[element.waypointContextKey]=this,keyCounter+=1,Waypoint.windowContext||(Waypoint.windowContext=!0,Waypoint.windowContext=new Context(window)),this.createThrottledScrollHandler(),this.createThrottledResizeHandler()}var keyCounter=0,contexts={},Waypoint=window.Waypoint,oldWindowLoad=window.onload;Context.prototype.add=function(waypoint){var axis=waypoint.options.horizontal?"horizontal":"vertical";this.waypoints[axis][waypoint.key]=waypoint,this.refresh()},Context.prototype.checkEmpty=function(){var horizontalEmpty=this.Adapter.isEmptyObject(this.waypoints.horizontal),verticalEmpty=this.Adapter.isEmptyObject(this.waypoints.vertical),isWindow=this.element==this.element.window;horizontalEmpty&&verticalEmpty&&!isWindow&&(this.adapter.off(".waypoints"),delete contexts[this.key])},Context.prototype.createThrottledResizeHandler=function(){function resizeHandler(){self.handleResize(),self.didResize=!1}var self=this;this.adapter.on("resize.waypoints",function(){self.didResize||(self.didResize=!0,Waypoint.requestAnimationFrame(resizeHandler))})},Context.prototype.createThrottledScrollHandler=function(){function scrollHandler(){self.handleScroll(),self.didScroll=!1}var self=this;this.adapter.on("scroll.waypoints",function(){self.didScroll&&!Waypoint.isTouch||(self.didScroll=!0,Waypoint.requestAnimationFrame(scrollHandler))})},Context.prototype.handleResize=function(){Waypoint.Context.refreshAll()},Context.prototype.handleScroll=function(){var triggeredGroups={},axes={horizontal:{newScroll:this.adapter.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.adapter.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}};for(var axisKey in axes){var axis=axes[axisKey],isForward=axis.newScroll>axis.oldScroll,direction=isForward?axis.forward:axis.backward;for(var waypointKey in this.waypoints[axisKey]){var waypoint=this.waypoints[axisKey][waypointKey];if(null!==waypoint.triggerPoint){var wasBeforeTriggerPoint=axis.oldScroll<waypoint.triggerPoint,nowAfterTriggerPoint=axis.newScroll>=waypoint.triggerPoint,crossedForward=wasBeforeTriggerPoint&&nowAfterTriggerPoint,crossedBackward=!wasBeforeTriggerPoint&&!nowAfterTriggerPoint;(crossedForward||crossedBackward)&&(waypoint.queueTrigger(direction),triggeredGroups[waypoint.group.id]=waypoint.group)}}}for(var groupKey in triggeredGroups)triggeredGroups[groupKey].flushTriggers();this.oldScroll={x:axes.horizontal.newScroll,y:axes.vertical.newScroll}},Context.prototype.innerHeight=function(){return this.element==this.element.window?Waypoint.viewportHeight():this.adapter.innerHeight()},Context.prototype.remove=function(waypoint){delete this.waypoints[waypoint.axis][waypoint.key],this.checkEmpty()},Context.prototype.innerWidth=function(){return this.element==this.element.window?Waypoint.viewportWidth():this.adapter.innerWidth()},Context.prototype.destroy=function(){var allWaypoints=[];for(var axis in this.waypoints)for(var waypointKey in this.waypoints[axis])allWaypoints.push(this.waypoints[axis][waypointKey]);for(var i=0,end=allWaypoints.length;i<end;i++)allWaypoints[i].destroy()},Context.prototype.refresh=function(){var axes,isWindow=this.element==this.element.window,contextOffset=isWindow?void 0:this.adapter.offset(),triggeredGroups={};this.handleScroll(),axes={horizontal:{contextOffset:isWindow?0:contextOffset.left,contextScroll:isWindow?0:this.oldScroll.x,contextDimension:this.innerWidth(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:isWindow?0:contextOffset.top,contextScroll:isWindow?0:this.oldScroll.y,contextDimension:this.innerHeight(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}};for(var axisKey in axes){var axis=axes[axisKey];for(var waypointKey in this.waypoints[axisKey]){var contextModifier,wasBeforeScroll,nowAfterScroll,triggeredBackward,triggeredForward,waypoint=this.waypoints[axisKey][waypointKey],adjustment=waypoint.options.offset,oldTriggerPoint=waypoint.triggerPoint,elementOffset=0,freshWaypoint=null==oldTriggerPoint;waypoint.element!==waypoint.element.window&&(elementOffset=waypoint.adapter.offset()[axis.offsetProp]),"function"==typeof adjustment?adjustment=adjustment.apply(waypoint):"string"==typeof adjustment&&(adjustment=parseFloat(adjustment),waypoint.options.offset.indexOf("%")>-1&&(adjustment=Math.ceil(axis.contextDimension*adjustment/100))),contextModifier=axis.contextScroll-axis.contextOffset,waypoint.triggerPoint=Math.floor(elementOffset+contextModifier-adjustment),wasBeforeScroll=oldTriggerPoint<axis.oldScroll,nowAfterScroll=waypoint.triggerPoint>=axis.oldScroll,triggeredBackward=wasBeforeScroll&&nowAfterScroll,triggeredForward=!wasBeforeScroll&&!nowAfterScroll,!freshWaypoint&&triggeredBackward?(waypoint.queueTrigger(axis.backward),triggeredGroups[waypoint.group.id]=waypoint.group):!freshWaypoint&&triggeredForward?(waypoint.queueTrigger(axis.forward),triggeredGroups[waypoint.group.id]=waypoint.group):freshWaypoint&&axis.oldScroll>=waypoint.triggerPoint&&(waypoint.queueTrigger(axis.forward),triggeredGroups[waypoint.group.id]=waypoint.group)}}return Waypoint.requestAnimationFrame(function(){for(var groupKey in triggeredGroups)triggeredGroups[groupKey].flushTriggers()}),this},Context.findOrCreateByElement=function(element){return Context.findByElement(element)||new Context(element)},Context.refreshAll=function(){for(var contextId in contexts)contexts[contextId].refresh()},Context.findByElement=function(element){return contexts[element.waypointContextKey]},window.onload=function(){oldWindowLoad&&oldWindowLoad(),Context.refreshAll()},Waypoint.requestAnimationFrame=function(callback){var requestFn=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||requestAnimationFrameShim;requestFn.call(window,callback)},Waypoint.Context=Context}(),function(){"use strict";function byTriggerPoint(a,b){return a.triggerPoint-b.triggerPoint}function byReverseTriggerPoint(a,b){return b.triggerPoint-a.triggerPoint}function Group(options){this.name=options.name,this.axis=options.axis,this.id=this.name+"-"+this.axis,this.waypoints=[],this.clearTriggerQueues(),groups[this.axis][this.name]=this}var groups={vertical:{},horizontal:{}},Waypoint=window.Waypoint;Group.prototype.add=function(waypoint){this.waypoints.push(waypoint)},Group.prototype.clearTriggerQueues=function(){this.triggerQueues={up:[],down:[],left:[],right:[]}},Group.prototype.flushTriggers=function(){for(var direction in this.triggerQueues){var waypoints=this.triggerQueues[direction],reverse="up"===direction||"left"===direction;waypoints.sort(reverse?byReverseTriggerPoint:byTriggerPoint);for(var i=0,end=waypoints.length;i<end;i+=1){var waypoint=waypoints[i];(waypoint.options.continuous||i===waypoints.length-1)&&waypoint.trigger([direction])}}this.clearTriggerQueues()},Group.prototype.next=function(waypoint){this.waypoints.sort(byTriggerPoint);var index=Waypoint.Adapter.inArray(waypoint,this.waypoints),isLast=index===this.waypoints.length-1;return isLast?null:this.waypoints[index+1]},Group.prototype.previous=function(waypoint){this.waypoints.sort(byTriggerPoint);var index=Waypoint.Adapter.inArray(waypoint,this.waypoints);return index?this.waypoints[index-1]:null},Group.prototype.queueTrigger=function(waypoint,direction){this.triggerQueues[direction].push(waypoint)},Group.prototype.remove=function(waypoint){var index=Waypoint.Adapter.inArray(waypoint,this.waypoints);index>-1&&this.waypoints.splice(index,1)},Group.prototype.first=function(){return this.waypoints[0]},Group.prototype.last=function(){return this.waypoints[this.waypoints.length-1]},Group.findOrCreate=function(options){return groups[options.axis][options.name]||new Group(options)},Waypoint.Group=Group}(),function(){"use strict";function JQueryAdapter(element){this.$element=$(element)}var $=window.jQuery,Waypoint=window.Waypoint;$.each(["innerHeight","innerWidth","off","offset","on","outerHeight","outerWidth","scrollLeft","scrollTop"],function(i,method){JQueryAdapter.prototype[method]=function(){var args=Array.prototype.slice.call(arguments);return this.$element[method].apply(this.$element,args)}}),$.each(["extend","inArray","isEmptyObject"],function(i,method){JQueryAdapter[method]=$[method]}),Waypoint.adapters.push({name:"jquery",Adapter:JQueryAdapter}),Waypoint.Adapter=JQueryAdapter}(),function(){"use strict";function createExtension(framework){return function(){var waypoints=[],overrides=arguments[0];return framework.isFunction(arguments[0])&&(overrides=framework.extend({},arguments[1]),overrides.handler=arguments[0]),this.each(function(){var options=framework.extend({},overrides,{element:this});"string"==typeof options.context&&(options.context=framework(this).closest(options.context)[0]),waypoints.push(new Waypoint(options))}),waypoints}}var Waypoint=window.Waypoint;window.jQuery&&(window.jQuery.fn.waypoint=createExtension(window.jQuery)),window.Zepto&&(window.Zepto.fn.waypoint=createExtension(window.Zepto))}(),function(){"use strict";function Sticky(options){this.options=$.extend({},Waypoint.defaults,Sticky.defaults,options),this.element=this.options.element,this.$element=$(this.element),this.createWrapper(),this.createWaypoint()}var $=window.jQuery,Waypoint=window.Waypoint;Sticky.prototype.createWaypoint=function(){var originalHandler=this.options.handler;this.waypoint=new Waypoint($.extend({},this.options,{element:this.wrapper,handler:$.proxy(function(direction){var shouldBeStuck=this.options.direction.indexOf(direction)>-1,wrapperHeight=shouldBeStuck?this.$element.outerHeight(!0):"";this.$wrapper.height(wrapperHeight),this.$element.toggleClass(this.options.stuckClass,shouldBeStuck),originalHandler&&originalHandler.call(this,direction)},this)}))},Sticky.prototype.createWrapper=function(){this.options.wrapper&&this.$element.wrap(this.options.wrapper),this.$wrapper=this.$element.parent(),this.wrapper=this.$wrapper[0]},Sticky.prototype.destroy=function(){this.$element.parent()[0]===this.wrapper&&(this.waypoint.destroy(),this.$element.removeClass(this.options.stuckClass),this.options.wrapper&&this.$element.unwrap())},Sticky.defaults={wrapper:'<div class="sticky-wrapper" />',stuckClass:"stuck",direction:"down right"},Waypoint.Sticky=Sticky}(),function(){"use strict";function noop(){}function Inview(options){this.options=Waypoint.Adapter.extend({},Inview.defaults,options),this.axis=this.options.horizontal?"horizontal":"vertical",this.waypoints=[],this.element=this.options.element,this.createWaypoints()}var Waypoint=window.Waypoint;Inview.prototype.createWaypoints=function(){for(var configs={vertical:[{down:"enter",up:"exited",offset:"100%"},{down:"entered",up:"exit",offset:"bottom-in-view"},{down:"exit",up:"entered",offset:0},{down:"exited",up:"enter",offset:function(){return-this.adapter.outerHeight()}}],horizontal:[{right:"enter",left:"exited",offset:"100%"},{right:"entered",left:"exit",offset:"right-in-view"},{right:"exit",left:"entered",offset:0},{right:"exited",left:"enter",offset:function(){return-this.adapter.outerWidth()}}]},i=0,end=configs[this.axis].length;i<end;i++){var config=configs[this.axis][i];this.createWaypoint(config)}},Inview.prototype.createWaypoint=function(config){var self=this;this.waypoints.push(new Waypoint({context:this.options.context,element:this.options.element,enabled:this.options.enabled,handler:function(config){return function(direction){self.options[config[direction]].call(self,direction)}}(config),offset:config.offset,horizontal:this.options.horizontal}))},Inview.prototype.destroy=function(){for(var i=0,end=this.waypoints.length;i<end;i++)this.waypoints[i].destroy();this.waypoints=[]},Inview.prototype.disable=function(){for(var i=0,end=this.waypoints.length;i<end;i++)this.waypoints[i].disable()},Inview.prototype.enable=function(){for(var i=0,end=this.waypoints.length;i<end;i++)this.waypoints[i].enable()},Inview.defaults={context:window,enabled:!0,enter:noop,entered:noop,exit:noop,exited:noop},Waypoint.Inview=Inview}(),function(){var MutationObserver,Util,WeakMap,getComputedStyle,getComputedStyleRX,bind=function(fn,me){return function(){return fn.apply(me,arguments)}},indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1};Util=function(){function Util(){}return Util.prototype.extend=function(custom,defaults){var key,value;for(key in defaults)value=defaults[key],null==custom[key]&&(custom[key]=value);return custom},Util.prototype.isMobile=function(agent){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(agent)},Util.prototype.createEvent=function(event,bubble,cancel,detail){var customEvent;return null==bubble&&(bubble=!1),null==cancel&&(cancel=!1),null==detail&&(detail=null),null!=document.createEvent?(customEvent=document.createEvent("CustomEvent"),customEvent.initCustomEvent(event,bubble,cancel,detail)):null!=document.createEventObject?(customEvent=document.createEventObject(),customEvent.eventType=event):customEvent.eventName=event,customEvent},Util.prototype.emitEvent=function(elem,event){return null!=elem.dispatchEvent?elem.dispatchEvent(event):event in(null!=elem)?elem[event]():"on"+event in(null!=elem)?elem["on"+event]():void 0},Util.prototype.addEvent=function(elem,event,fn){return null!=elem.addEventListener?elem.addEventListener(event,fn,!1):null!=elem.attachEvent?elem.attachEvent("on"+event,fn):elem[event]=fn},Util.prototype.removeEvent=function(elem,event,fn){return null!=elem.removeEventListener?elem.removeEventListener(event,fn,!1):null!=elem.detachEvent?elem.detachEvent("on"+event,fn):delete elem[event]},Util.prototype.innerHeight=function(){return"innerHeight"in window?window.innerHeight:document.documentElement.clientHeight},Util}(),WeakMap=this.WeakMap||this.MozWeakMap||(WeakMap=function(){function WeakMap(){this.keys=[],this.values=[]}return WeakMap.prototype.get=function(key){var i,item,j,len,ref;for(ref=this.keys,i=j=0,len=ref.length;j<len;i=++j)if(item=ref[i],item===key)return this.values[i]},WeakMap.prototype.set=function(key,value){var i,item,j,len,ref;for(ref=this.keys,i=j=0,len=ref.length;j<len;i=++j)if(item=ref[i],item===key)return void(this.values[i]=value);return this.keys.push(key),this.values.push(value)},WeakMap}()),MutationObserver=this.MutationObserver||this.WebkitMutationObserver||this.MozMutationObserver||(MutationObserver=function(){function MutationObserver(){"undefined"!=typeof console&&null!==console&&console.warn("MutationObserver is not supported by your browser."),"undefined"!=typeof console&&null!==console&&console.warn("WOW.js cannot detect dom mutations, please call .sync() after loading new content.")}return MutationObserver.notSupported=!0,MutationObserver.prototype.observe=function(){},MutationObserver}()),getComputedStyle=this.getComputedStyle||function(el,pseudo){return this.getPropertyValue=function(prop){var ref;return"float"===prop&&(prop="styleFloat"),getComputedStyleRX.test(prop)&&prop.replace(getComputedStyleRX,function(_,_char){return _char.toUpperCase()}),(null!=(ref=el.currentStyle)?ref[prop]:void 0)||null},this},getComputedStyleRX=/(\-([a-z]){1})/g,this.WOW=function(){function WOW(options){null==options&&(options={}),this.scrollCallback=bind(this.scrollCallback,this),this.scrollHandler=bind(this.scrollHandler,this),this.resetAnimation=bind(this.resetAnimation,this),this.start=bind(this.start,this),this.scrolled=!0,this.config=this.util().extend(options,this.defaults),null!=options.scrollContainer&&(this.config.scrollContainer=document.querySelector(options.scrollContainer)),this.animationNameCache=new WeakMap,this.wowEvent=this.util().createEvent(this.config.boxClass)}return WOW.prototype.defaults={boxClass:"wow",animateClass:"animated",offset:0,mobile:!0,live:!0,callback:null,scrollContainer:null},WOW.prototype.init=function(){var ref;return this.element=window.document.documentElement,"interactive"===(ref=document.readyState)||"complete"===ref?this.start():this.util().addEvent(document,"DOMContentLoaded",this.start),this.finished=[]},WOW.prototype.start=function(){var box,j,len,ref;if(this.stopped=!1,this.boxes=function(){var j,len,ref,results;for(ref=this.element.querySelectorAll("."+this.config.boxClass),results=[],j=0,len=ref.length;j<len;j++)box=ref[j],results.push(box);return results}.call(this),this.all=function(){var j,len,ref,results;for(ref=this.boxes,results=[],j=0,len=ref.length;j<len;j++)box=ref[j],results.push(box);return results}.call(this),this.boxes.length)if(this.disabled())this.resetStyle();else for(ref=this.boxes,j=0,len=ref.length;j<len;j++)box=ref[j],this.applyStyle(box,!0);if(this.disabled()||(this.util().addEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().addEvent(window,"resize",this.scrollHandler),this.interval=setInterval(this.scrollCallback,50)),this.config.live)return new MutationObserver(function(_this){return function(records){var k,len1,node,record,results;for(results=[],k=0,len1=records.length;k<len1;k++)record=records[k],results.push(function(){var l,len2,ref1,results1;for(ref1=record.addedNodes||[],results1=[],l=0,len2=ref1.length;l<len2;l++)node=ref1[l],results1.push(this.doSync(node));return results1}.call(_this));return results}}(this)).observe(document.body,{childList:!0,subtree:!0})},WOW.prototype.stop=function(){if(this.stopped=!0,this.util().removeEvent(this.config.scrollContainer||window,"scroll",this.scrollHandler),this.util().removeEvent(window,"resize",this.scrollHandler),null!=this.interval)return clearInterval(this.interval)},WOW.prototype.sync=function(element){if(MutationObserver.notSupported)return this.doSync(this.element)},WOW.prototype.doSync=function(element){var box,j,len,ref,results;if(null==element&&(element=this.element),1===element.nodeType){for(element=element.parentNode||element,ref=element.querySelectorAll("."+this.config.boxClass),results=[],j=0,len=ref.length;j<len;j++)box=ref[j],indexOf.call(this.all,box)<0?(this.boxes.push(box),this.all.push(box),this.stopped||this.disabled()?this.resetStyle():this.applyStyle(box,!0),results.push(this.scrolled=!0)):results.push(void 0);return results}},WOW.prototype.show=function(box){return this.applyStyle(box),box.className=box.className+" "+this.config.animateClass,null!=this.config.callback&&this.config.callback(box),this.util().emitEvent(box,this.wowEvent),this.util().addEvent(box,"animationend",this.resetAnimation),this.util().addEvent(box,"oanimationend",this.resetAnimation),this.util().addEvent(box,"webkitAnimationEnd",this.resetAnimation),this.util().addEvent(box,"MSAnimationEnd",this.resetAnimation),box},WOW.prototype.applyStyle=function(box,hidden){var delay,duration,iteration;return duration=box.getAttribute("data-wow-duration"),delay=box.getAttribute("data-wow-delay"),iteration=box.getAttribute("data-wow-iteration"),this.animate(function(_this){return function(){return _this.customStyle(box,hidden,duration,delay,iteration)}}(this))},WOW.prototype.animate=function(){return"requestAnimationFrame"in window?function(callback){return window.requestAnimationFrame(callback)}:function(callback){return callback()}}(),WOW.prototype.resetStyle=function(){var box,j,len,ref,results;for(ref=this.boxes,results=[],j=0,len=ref.length;j<len;j++)box=ref[j],results.push(box.style.visibility="visible");return results},WOW.prototype.resetAnimation=function(event){var target;if(event.type.toLowerCase().indexOf("animationend")>=0)return target=event.target||event.srcElement,target.className=target.className.replace(this.config.animateClass,"").trim()},WOW.prototype.customStyle=function(box,hidden,duration,delay,iteration){return hidden&&this.cacheAnimationName(box),box.style.visibility=hidden?"hidden":"visible",duration&&this.vendorSet(box.style,{animationDuration:duration}),delay&&this.vendorSet(box.style,{animationDelay:delay}),iteration&&this.vendorSet(box.style,{animationIterationCount:iteration}),this.vendorSet(box.style,{animationName:hidden?"none":this.cachedAnimationName(box)}),box},WOW.prototype.vendors=["moz","webkit"],WOW.prototype.vendorSet=function(elem,properties){var name,results,value,vendor;results=[];for(name in properties)value=properties[name],elem[""+name]=value,results.push(function(){var j,len,ref,results1;for(ref=this.vendors,results1=[],j=0,len=ref.length;j<len;j++)vendor=ref[j],results1.push(elem[""+vendor+name.charAt(0).toUpperCase()+name.substr(1)]=value);return results1}.call(this));return results},WOW.prototype.vendorCSS=function(elem,property){var j,len,ref,result,style,vendor;for(style=getComputedStyle(elem),result=style.getPropertyCSSValue(property),ref=this.vendors,j=0,len=ref.length;j<len;j++)vendor=ref[j],result=result||style.getPropertyCSSValue("-"+vendor+"-"+property);return result},WOW.prototype.animationName=function(box){var animationName;try{animationName=this.vendorCSS(box,"animation-name").cssText}catch(error){animationName=getComputedStyle(box).getPropertyValue("animation-name")}return"none"===animationName?"":animationName},WOW.prototype.cacheAnimationName=function(box){return this.animationNameCache.set(box,this.animationName(box))},WOW.prototype.cachedAnimationName=function(box){return this.animationNameCache.get(box)},WOW.prototype.scrollHandler=function(){return this.scrolled=!0},WOW.prototype.scrollCallback=function(){var box;if(this.scrolled&&(this.scrolled=!1,this.boxes=function(){var j,len,ref,results;for(ref=this.boxes,results=[],j=0,len=ref.length;j<len;j++)box=ref[j],box&&(this.isVisible(box)?this.show(box):results.push(box));return results}.call(this),!this.boxes.length&&!this.config.live))return this.stop()},WOW.prototype.offsetTop=function(element){
for(var top;void 0===element.offsetTop;)element=element.parentNode;for(top=element.offsetTop;element=element.offsetParent;)top+=element.offsetTop;return top},WOW.prototype.isVisible=function(box){var bottom,offset,top,viewBottom,viewTop;return offset=box.getAttribute("data-wow-offset")||this.config.offset,viewTop=this.config.scrollContainer&&this.config.scrollContainer.scrollTop||window.pageYOffset,viewBottom=viewTop+Math.min(this.element.clientHeight,this.util().innerHeight())-offset,top=this.offsetTop(box),bottom=top+box.clientHeight,top<=viewBottom&&bottom>=viewTop},WOW.prototype.util=function(){return null!=this._util?this._util:this._util=new Util},WOW.prototype.disabled=function(){return!this.config.mobile&&this.util().isMobile(navigator.userAgent)},WOW}()}.call(this),jQuery(document).ready(function($){var siteHeaderHeight=$(".site-header").outerHeight();$(".overlapping-header").css("padding-top",siteHeaderHeight),$(window).resize(function(event){var siteHeaderHeight2=$(".site-header").outerHeight();$(".overlapping-header").css("padding-top",siteHeaderHeight2)}),$("html").niceScroll({mousescrollstep:60,horizrailenabled:!1});var wH=$(window).height(),fH=$("#footer").height(),cH=wH-fH;$("#container").css("min-height",cH),$(window).resize(function(event){var wH2=$(window).height(),fH2=$("#footer").height(),cH2=wH2-fH2;$("#container").css("min-height",cH2)});var dotsWrapper=$(".owl-dots").outerHeight();$(".owl-carousel").css("margin-bottom",dotsWrapper),$(window).resize(function(event){var dotsWrapper2=$(".owl-dots").outerHeight();$(".owl-carousel").css("margin-bottom",dotsWrapper2)}),$(".special-btn").each(function(){if($(this).hasClass("fill-space")){var maxHeight=$(this).height();$(this).children(".panel").height(maxHeight-4),$(this).css("max-height",maxHeight)}else{var elementHeights=$(this).children(".panel").map(function(){return $(this).outerHeight(!0)}).get(),maxHeight2=Math.max.apply(null,elementHeights);$(this).children(".panel").height(maxHeight2),$(this).height(maxHeight2);var elementWidths=$(this).find(".panel-inner").map(function(){return $(this).width()}).get(),maxWidth=Math.max.apply(null,elementWidths);$(this).find(".panel-inner").width(maxWidth)}}),$(window).load(function(){var wow=new WOW({mobile:!1});wow.init()}),$(window).scroll(function(){$(window).scrollTop()>=400?$("#scrollTop").addClass("show"):$(window).scrollTop()<=300&&$("#scrollTop").removeClass("show")}),$("#scrollTop").click(function(){$(window).scrollTo($("#top"),500,{onAfter:function(){$("#scrollTop").removeClass("show")}})}),$(".sticky-header.headhesive--stick").midnight(),$(".sub-menu").hide(),$("li.menu-item-has-children > a").append('<span class="sub-menu-icon genericon genericon-expand"></span>'),$(".menu-mobile-container li.menu-item-has-children").click(function(){"none"===$(this).children(".sub-menu").css("display")?($(".sub-menu").slideUp(200),$(".sub-menu-icon").removeClass("genericon-collapse").addClass("genericon-expand"),$(this).children(".sub-menu").slideDown(200),$(this).find(".sub-menu-icon").removeClass("genericon-expand").addClass("genericon-collapse")):($(this).children(".sub-menu").slideUp(200),$(this).find(".sub-menu-icon").removeClass("genericon-collapse").addClass("genericon-expand"))}),$(".menu-container > .menu > li.menu-item-has-children").hoverIntent(function(){$(this).children(".sub-menu").slideDown(200),$(this).find(".sub-menu-icon").removeClass("genericon-expand").addClass("genericon-collapse")},function(){$(this).children(".sub-menu").slideUp(200),$(this).find(".sub-menu-icon").removeClass("genericon-collapse").addClass("genericon-expand")}),$(".menu-mobile-container").hide(),$(".menu-button-area").click(function(){$(window).width()>=900?$(this).hasClass("active")?($(this).removeClass("active"),$(".menu-button").removeClass("active"),$(".menu-container").removeClass("active"),$("#side-menu").removeClass("active"),$(".menu-button-txt").html("Menu"),$("#wrapper").removeClass("active-menu"),$(".headhesive").removeClass("active-menu")):($(this).addClass("active"),$(".menu-button").addClass("active"),$("#side-menu").addClass("active"),$(".menu-container").addClass("active"),$(".menu-button-txt").html("Close"),$("#wrapper").addClass("active-menu"),$(".headhesive").addClass("active-menu")):"none"===$(".menu-mobile-container").css("display")?($(this).addClass("active"),$(".menu-button").addClass("active"),$(".menu-mobile-container").slideDown(),$(".menu-button-txt").html("Close"),$("#wrapper").addClass("active-menu"),$(".headhesive").addClass("active-menu")):"block"===$(".menu-mobile-container").css("display")?($(this).removeClass("active"),$(".menu-button").removeClass("active"),$(".menu-mobile-container").slideUp(),$(".menu-button-txt").html("Menu"),$("#wrapper").removeClass("active-menu"),$(".headhesive").removeClass("active-menu")):$(this).hasClass("active")?($(this).removeClass("active"),$(".menu-button").removeClass("active"),$(".menu-container").removeClass("active"),$("#side-menu").removeClass("active"),$(".menu-button-txt").html("Menu"),$("#wrapper").removeClass("active-menu"),$(".headhesive").removeClass("active-menu")):($(this).addClass("active"),$(".menu-button").addClass("active"),$("#side-menu").addClass("active"),$(".menu-container").addClass("active"),$(".menu-button-txt").html("Close"),$("#wrapper").addClass("active-menu"),$(".headhesive").addClass("active-menu"))})});
//# sourceMappingURL=footer-scripts.min.js.map